<!DOCTYPE html>
<html lang="en">
<head>
		<title>Maps & Apps</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="http://blog.mollietaylor.com/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Maps & Apps â€” Flux Atom"
			href="http://blog.mollietaylor.com/" /> 
		<!--[if lte IE 8]><script src="http://blog.mollietaylor.com/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="http://blog.mollietaylor.com">Maps & Apps</a></h1>
		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/pages/about/index.html">About Mollie</a></li>
						<li class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/.html"></a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/latex.html">LaTeX</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/leaflet.html">Leaflet</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/objective-c.html">Objective-C</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/r.html">R</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/swift.html">Swift</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div id="contents">
<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/12/mapping-gps-tracks-in-google-earth.html">Thu 20 December 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/.html" title="View all posts in " rel="category tag"></a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/12/mapping-gps-tracks-in-google-earth.html" title="Permalink to Mapping GPS Tracks in Google Earth" rel="bookmark">Mapping GPS Tracks in Google Earth</a>
		</h2>
		<div class="entry-content">
			<p>Even though I find the <a href="http://blog.mollietaylor.com/2012/12/mapping-gps-tracks-in-r.html">R solution</a> easier, I'm sure not everyone agrees with me, so here's the Google Earth way to import a bunch of GPS tracks and map them:</p>
<h2>Export to TCX</h2>
<p>From inside Garmin Training Center or other GPS device software, export a huge TCX file with all your tracks.</p>
<h2>Mapping in Google Earth</h2>
<p><img alt="Opening your TCX file" class="size-auto" src="http://blog.mollietaylor.com/images/earth-gpx-open.png" /></p>
<p>Select File -&gt; Open. Change the dropbox for "Files of type" to "Gps", and then find your file and open it. Make sure the "Create KML LineStrings" box is checked and the "Create KML Tracks" box is unchecked. This will save us some work later.</p>
<p><img alt="Import settings" class="size-auto" src="http://blog.mollietaylor.com/images/earth-gpx-import.png" /></p>
<p>Next, zoom in, zoom out, and recenter as desired. If you want North to be up, you can click the "N" in the compass in the upper right. </p>
<p>In the layers (bottom left), I personally like to check Roads and uncheck everything else.</p>
<p>In the places (just above layers), right click "GPS device" and select "Properties". Click over to the "Style, Color" tab, and then click "Share Style".</p>
<p><img alt="Share style" class="size-auto" src="http://blog.mollietaylor.com/images/earth-gpx-style.png" /></p>
<p>I like to use the following settings:</p>
<p>Lines:</p>
<ul>
<li>Color: red</li>
<li>Width: 3.0</li>
<li>Opacity: 100%</li>
</ul>
<p>Label:</p>
<ul>
<li>Opacity: 0%</li>
</ul>
<p>Icon:</p>
<ul>
<li>Opacity: 0%</li>
</ul>
<p><img alt="Example style and color settings" class="size-auto" src="http://blog.mollietaylor.com/images/earth-gpx-settings.png" /></p>
<p>Make sure you've selected all the dates you want on the date slider. Then you can select "Print" to export to a PDF, or you can take a screenshot.</p>
<p><img alt="Export image" class="size-auto" src="http://blog.mollietaylor.com/images/earth-gpx-export.png" /></p>
<p><img alt="Date slider and final map" class="size-auto" src="http://blog.mollietaylor.com/images/earth-gpx-final.png" /></p>
<p>And that's all there is to it. Large maps may take a long time to load and edit.</p>
<blockquote>
<p>This post is one part of <a href="http://blog.mollietaylor.com/tag/series-gps-tracks.html">my series on Mapping GPS Tracks</a>.</p>
</blockquote>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/google-earth.html" rel="tag">Google Earth</a>,  <a href="http://blog.mollietaylor.com/tag/series-gps-tracks.html" rel="tag">Series: GPS Tracks</a>,  <a href="http://blog.mollietaylor.com/tag/visualization.html" rel="tag">visualization</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/12/mapping-gps-tracks-in-r.html">Thu 13 December 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/12/mapping-gps-tracks-in-r.html" title="Permalink to Mapping GPS Tracks in R" rel="bookmark">Mapping GPS Tracks in R</a>
		</h2>
		<div class="entry-content">
			<p>This is an explanation of how I used R to combine all my GPS cycling tracks from my Garmin Forerunner 305.</p>
<h2>Converting to CSV</h2>
<p>You can convert pretty much any GPS data to .csv by using <a href="http://www.gpsbabel.org/htmldoc-1.4.4/readme.html">GPSBabel</a>. For importing directly from my Garmin, I used the command:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">gpsbabel -t -i garmin -f usb: -o unicsv -F out.csv</span></span>
</pre></div>


<p>[Note: you'll probably need to work as root to access your device directly]</p>
<p>For importing from a .tcx file, you can use:</p>
<div class="highlight"><pre><span class="code-line"><span class="go">gpsbabel -t -i gtrnctr -f test2.tcx -o unicsv -F old.csv</span></span>
</pre></div>


<h2>Mapping in R</h2>
<p>After converting to .csv, we'll have a file with several columns, such as latitude, longitude, date, and time. We can now easily import this into R.</p>
<div class="highlight"><pre><span class="code-line">gps <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;out.csv&quot;</span><span class="p">,</span> </span>
<span class="code-line">    header <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span></span>
</pre></div>


<p>Next we want to load up ggmap and get our base map. To determine how zoomed in we are, we can set <code>zoom</code> and <code>size</code>. We can also choose the <code>maptype</code>, with options of terrain, satellite, roadmap, or hybrid (satellite + roadmap).</p>
<div class="highlight"><pre><span class="code-line"><span class="kn">library</span><span class="p">(</span>ggmap<span class="p">)</span></span>
<span class="code-line">mapImageData <span class="o">&lt;-</span> get_googlemap<span class="p">(</span>center <span class="o">=</span> <span class="kt">c</span><span class="p">(</span>lon <span class="o">=</span> median<span class="p">(</span>gps<span class="o">$</span>Longitude<span class="p">),</span> lat <span class="o">=</span> median<span class="p">(</span>gps<span class="o">$</span>Latitude<span class="p">)),</span></span>
<span class="code-line">    zoom <span class="o">=</span> <span class="m">11</span><span class="p">,</span></span>
<span class="code-line"><span class="c1"># size = c(500, 500),</span></span>
<span class="code-line">    maptype <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;terrain&quot;</span><span class="p">))</span></span>
</pre></div>


<p>I chose to set the <code>center</code> of the map to the median of my latitudes and the median of my longitudes. I've done some biking when traveling, so median made more sense for me than mean.
Finally we want to map our GPS data. There are several <a href="http://www.endmemo.com/program/R/pchsymbols.php"><code>pch</code> options</a> to try.</p>
<div class="highlight"><pre><span class="code-line">ggmap<span class="p">(</span>mapImageData<span class="p">,</span></span>
<span class="code-line">    extent <span class="o">=</span> <span class="s">&quot;device&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="c1"># takes out axes, etc.</span></span>
<span class="code-line">    geom_point<span class="p">(</span>aes<span class="p">(</span>x <span class="o">=</span> Longitude<span class="p">,</span></span>
<span class="code-line">        y <span class="o">=</span> Latitude<span class="p">),</span></span>
<span class="code-line">    data <span class="o">=</span> gps<span class="p">,</span></span>
<span class="code-line">    colour <span class="o">=</span> <span class="s">&quot;red&quot;</span><span class="p">,</span></span>
<span class="code-line">    size <span class="o">=</span> <span class="m">1</span><span class="p">,</span></span>
</pre></div>


<p><img alt="All my metro Atlanta bike rides" src="http://blog.mollietaylor.com/images/r-gps-tracks.png" /></p>
<p>Previously, I've used Google Earth to create these maps, but I actually found it to be easier and way less time and resource efficient to do it in R. The only tricky part was converting the data into .csv, and there are <a href="http://www.gpsvisualizer.com/convert_input?convert_output=gpx">other ways</a> to do that, if GPSBabel isn't working for you. You might also be interested in trying <a href="http://blog.mollietaylor.com/2012/12/mapping-gps-tracks-in-google-earth.html">Google Earth</a> for mapping your tracks, instead of R.</p>
<p><a href="https://gist.github.com/4210660">Here's the gist</a> with the code.</p>
<blockquote>
<p>This post is one part of <a href="http://blog.mollietaylor.com/tag/series-gps-tracks.html">my series on Mapping GPS Tracks</a>.</p>
</blockquote>
<h2>Citations and Further Reading</h2>
<ul>
<li><a href="http://www.gpsbabel.org/htmldoc-1.4.4/readme.html">http://www.gpsbabel.org/htmldoc-1.4.4/readme.html</a></li>
<li><a href="http://www.olberg.se/?q=node/25">http://www.olberg.se/?q=node/25</a></li>
<li><a href="http://stackoverflow.com/questions/11648870/offline-plotting-of-map-coordinates-on-static-maps-of-google">http://stackoverflow.com/questions/11648870/offline-plotting-of-map-coordinates-on-static-maps-of-google</a></li>
<li><a href="http://stackoverflow.com/questions/11590193/saving-image-in-ggplot-ggmap">http://stackoverflow.com/questions/11590193/saving-image-in-ggplot-ggmap</a></li>
</ul>
<p>pch = 20)</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/geom_point.html" rel="tag">geom_point</a>,  <a href="http://blog.mollietaylor.com/tag/ggmap.html" rel="tag">ggmap</a>,  <a href="http://blog.mollietaylor.com/tag/gpsbabel.html" rel="tag">GPSBabel</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/series-gps-tracks.html" rel="tag">Series: GPS Tracks</a>,  <a href="http://blog.mollietaylor.com/tag/visualization.html" rel="tag">visualization</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/12/workflowy-or-how-i-organize-everything.html">Thu 06 December 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/.html" title="View all posts in " rel="category tag"></a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/12/workflowy-or-how-i-organize-everything.html" title="Permalink to WorkFlowy (or How I Organize Everything)" rel="bookmark">WorkFlowy (or How I Organize Everything)</a>
		</h2>
		<div class="entry-content">
			<p>Being organized is crucial to doing a PhD.</p>
<p>One of the main ways I get and stay organized is by using <a href="https://workflowy.com/?ref=8a2f747">WorkFlowy</a>. WorkFlowy is a simple (perhaps startlingly simple) webapp that can function as to-do list, planning software, and outliner.</p>
<p>I've tried tons of to-do apps for desktop and mobile, but I've found I always revert to post-its and a todo.txt. WorkFlowy is the first service I've found that has changed that. It's pretty similar to a text file, but easier to navigate.</p>
<iframe width="420" height="315" src="//www.youtube.com/embed/CSmbnaPZVHE" frameborder="0" allowfullscreen></iframe>

<h2>How I use WorkFlowy</h2>
<h3>To-do list</h3>
<p>For my to-do list, I have one list for each week and then one list inside that for each day. It's easy to move stuff from day to day. When I finish items, I check them off.</p>
<p><img alt="Daily" src="http://blog.mollietaylor.com/images/workflowy-daily.png" /></p>
<p>When I'm finished with a week, I move it to a completed list at the bottom of my WorkFlowy. Since I mark off items as I finish them instead of deleting them, this gives me a quick way to look through and see what I've accomplished in the past week. This is helpful for self-assessment and for preparing for meetings with committee members.</p>
<p><img alt="Completed" src="http://blog.mollietaylor.com/images/workflowy-completed.png" /></p>
<p>You can also get WorkFlowy to send you a daily email with summaries of your changes.</p>
<p><img alt="Settings" src="http://blog.mollietaylor.com/images/workflowy-settings.png" /></p>
<h3>Organizing papers</h3>
<p>I tend toward being an excessive outliner. I outline my papers or sections of papers down to the paragraph or even sentence level before I write them. Some people prefer the edit-and-edit-again route, but I've found that outlining works better for me, personally.</p>
<p>In the preliminary stages of a paper, I use WorkFlowy for my outlines.</p>
<p>I have one list for each paper I have planned. Inside each list, I include things like a summary of the paper, research questions, hypotheses, possible data sources, variables, literature citations, possible cases to analyze, and a to-do list of things I need to remember to do.</p>
<p><img alt="Papers" src="http://blog.mollietaylor.com/images/workflowy-paper-list.png" /></p>
<h2>Other features</h2>
<h3>Sharing</h3>
<p>WorkFlowy lists can also be shared and used for collaboration. Free accounts can share through links that are accessible to anyone using the link. This link feature can either allow other people to edit the list or only view it. Paid accounts can also share privately to email addresses, with login required to view or edit.</p>
<h3>Backup</h3>
<p>Paid accounts can have automatic backup to Dropbox. Any user can export manually as text at any time.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/organization.html" rel="tag">organization</a>,  <a href="http://blog.mollietaylor.com/tag/workflowy.html" rel="tag">WorkFlowy</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/11/sorting-within-lattice-graphics-in-r.html">Thu 29 November 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/11/sorting-within-lattice-graphics-in-r.html" title="Permalink to Sorting Within Lattice Graphics in R" rel="bookmark">Sorting Within Lattice Graphics in R</a>
		</h2>
		<div class="entry-content">
			<h2>Default</h2>
<p>By default, <strong>lattice</strong> sorts the observations by the axis values, starting at the bottom left.</p>
<p>For example,</p>
<div class="highlight"><pre><span class="code-line"><span class="kn">library</span><span class="p">(</span>lattice<span class="p">)</span></span>
<span class="code-line">colors <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;#1B9E77&quot;</span><span class="p">,</span> <span class="s">&quot;#D95F02&quot;</span><span class="p">,</span> <span class="s">&quot;#7570B3&quot;</span><span class="p">)</span></span>
<span class="code-line">dotplot<span class="p">(</span><span class="kp">rownames</span><span class="p">(</span>mtcars<span class="p">)</span> <span class="o">~</span> mpg<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> mtcars<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">1</span><span class="p">],</span></span>
<span class="code-line">    pch <span class="o">=</span> <span class="m">1</span><span class="p">)</span></span>
</pre></div>


<p>produces:</p>
<p><img alt="Default lattice dotplot" src="http://blog.mollietaylor.com/images/r-lattice-default.png" /></p>
<p>(Note: The <code>rownames(cars)</code> bit is just because of how this data set is stored. For your data, you might just type the variable name (<code>model</code>, for example) instead.)</p>
<h2>Graphing one variable, sorting by another</h2>
<p>If we want to show the same data, but we want to sort by another variable (or the same variable, for that matter), we can just add <code>reorder(yvar, sortvar)</code>. For example, to sort by the number of cylinders, we could:</p>
<div class="highlight"><pre><span class="code-line">dotplot<span class="p">(</span>reorder<span class="p">(</span><span class="kp">rownames</span><span class="p">(</span>mtcars<span class="p">),</span> cyl<span class="p">)</span> <span class="o">~</span> mpg<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> mtcars<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">1</span><span class="p">],</span></span>
</pre></div>


<p><img alt="Sorted by number of cylinders" src="http://blog.mollietaylor.com/images/r-lattice-by-cyl.png" /></p>
<h2>Graphing two variables</h2>
<p>To better show how this works, let's graph <code>cyl</code> alongside <code>mpg</code>, so we can see how it is sorting:</p>
<div class="highlight"><pre><span class="code-line">dotplot<span class="p">(</span>reorder<span class="p">(</span><span class="kp">rownames</span><span class="p">(</span>mtcars<span class="p">),</span> cyl<span class="p">)</span> <span class="o">~</span> mpg <span class="o">+</span> cyl<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> mtcars<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">,</span></span>
<span class="code-line">    pch <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span></span>
<span class="code-line">    pch <span class="o">=</span> <span class="m">1</span><span class="p">)</span></span>
</pre></div>


<p><img alt="Graph of mpg and cyl, sorted by cyl" src="http://blog.mollietaylor.com/images/r-lattice-mpg-cyl.png" /></p>
<h2>Reverse order</h2>
<p>We can also sort in reverse order, by adding a "-" before the variable name:</p>
<div class="highlight"><pre><span class="code-line">dotplot<span class="p">(</span>reorder<span class="p">(</span><span class="kp">rownames</span><span class="p">(</span>mtcars<span class="p">),</span> <span class="o">-</span>cyl<span class="p">)</span> <span class="o">~</span> mpg <span class="o">+</span> cyl<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> mtcars<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">,</span></span>
<span class="code-line">    pch <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span></span>
</pre></div>


<p><img alt="Graph of mpg and cyl, sorted by cyl, reversed" src="http://blog.mollietaylor.com/images/r-lattice-mpg-cyl-reverse.png" /></p>
<h2>Adding a legend</h2>
<p>We can also add a legend:</p>
<div class="highlight"><pre><span class="code-line">dotplot<span class="p">(</span>reorder<span class="p">(</span><span class="kp">rownames</span><span class="p">(</span>mtcars<span class="p">),</span> <span class="o">-</span>cyl<span class="p">)</span> <span class="o">~</span> mpg <span class="o">+</span> cyl<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> mtcars<span class="p">,</span></span>
<span class="code-line">    xlab <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">,</span></span>
<span class="code-line">    pch <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span></span>
<span class="code-line">    key <span class="o">=</span> <span class="kt">list</span><span class="p">(</span>points <span class="o">=</span> <span class="kt">list</span><span class="p">(</span>col <span class="o">=</span> colors<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">],</span> pch <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)),</span></span>
<span class="code-line">        text <span class="o">=</span> <span class="kt">list</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;Miles per gallon&quot;</span><span class="p">,</span> <span class="s">&quot;Number of cylinders&quot;</span><span class="p">)),</span></span>
<span class="code-line">        space <span class="o">=</span> <span class="s">&quot;bottom&quot;</span><span class="p">))</span></span>
</pre></div>


<p><img alt="With legend" src="http://blog.mollietaylor.com/images/r-lattice-legend.png" /></p>
<h2>Other lattice types</h2>
<p>The same technique will work with other lattice graphs, such as barchart, bwplot, and stripplot.</p>
<p>Full code available as a <a href="https://gist.github.com/4063837">gist</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/barchart.html" rel="tag">barchart</a>,  <a href="http://blog.mollietaylor.com/tag/dotplot.html" rel="tag">dotplot</a>,  <a href="http://blog.mollietaylor.com/tag/key.html" rel="tag">key</a>,  <a href="http://blog.mollietaylor.com/tag/lattice.html" rel="tag">lattice</a>,  <a href="http://blog.mollietaylor.com/tag/legend.html" rel="tag">legend</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/reorder.html" rel="tag">reorder</a>,  <a href="http://blog.mollietaylor.com/tag/visualization.html" rel="tag">visualization</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/11/subfigures-in-latex.html">Thu 15 November 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/latex.html" title="View all posts in LaTeX" rel="category tag">LaTeX</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/11/subfigures-in-latex.html" title="Permalink to Subfigures in LaTeX" rel="bookmark">Subfigures in LaTeX</a>
		</h2>
		<div class="entry-content">
			<p>How can you create subfigures or subfloats in LaTeX? It's often easy to combine multiple figures from within a statistical package or image software, but it's generally best not to if you want to include subcaptions as text, for improved searchability.</p>
<p>Fortunately the <strong>subcaption</strong> package in LaTeX allows us to do this easily. (The subfigure and subfig packages have been deprecated, so it's best to use subcaption instead.)</p>
<p>How can you make more than one image or table be part of a LaTeX figure while still being able to create text captions for each?</p>
<p>Using the word clouds from my <a href="http://blog.mollietaylor.com/2012/09/word-clouds-in-r.html">R word cloud tutorial</a>, let's look at an example:</p>
<p><img alt="Wordcloud of national conventions" class="size-auto" src="http://blog.mollietaylor.com/images/latex-wordcloud.png" /></p>
<p>In order to make the figure containing the subfigures, we'll need to decide a few things first. Then it's just a matter of letting LaTeX know our preferences:</p>
<ul>
<li>The precise or proportional width of the subfigures</li>
<li>The filenames</li>
<li>The subcaptions</li>
<li><a href="http://blog.mollietaylor.com/2012/11/white-space-in-latex.html">How much horizontal or vertical space should be between subfigures</a></li>
<li>The overall figure caption</li>
</ul>
<p>We also need to let LaTeX know to use the <strong>caption</strong> and <strong>subcaption</strong> packages. The full code for the example image above is included below, and also <a href="https://gist.github.com/3984730">in a gist</a>.</p>
<div class="highlight"><pre><span class="code-line"><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">\usepackage</span><span class="nb">{</span>graphicx<span class="nb">}</span></span>
<span class="code-line"><span class="k">\usepackage</span><span class="nb">{</span>caption<span class="nb">}</span></span>
<span class="code-line"><span class="k">\usepackage</span><span class="nb">{</span>subcaption<span class="nb">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">\begin</span><span class="nb">{</span>figure<span class="nb">}</span></span>
<span class="code-line">    <span class="k">\centering</span></span>
<span class="code-line">    <span class="k">\begin</span><span class="nb">{</span>subfigure<span class="nb">}{</span>0.4<span class="k">\textwidth</span><span class="nb">}</span> <span class="c">% width of left subfigure</span></span>
<span class="code-line">        <span class="k">\includegraphics</span><span class="na">[width=\textwidth]</span><span class="nb">{</span>rncalt.png<span class="nb">}</span></span>
<span class="code-line">        <span class="k">\caption</span><span class="nb">{</span>RNC<span class="nb">}</span> <span class="c">% subcaption</span></span>
<span class="code-line">    <span class="k">\end</span><span class="nb">{</span>subfigure<span class="nb">}</span></span>
<span class="code-line">    <span class="k">\vspace</span><span class="nb">{</span>1em<span class="nb">}</span> <span class="c">% here you can insert horizontal or vertical space</span></span>
<span class="code-line">    <span class="k">\begin</span><span class="nb">{</span>subfigure<span class="nb">}{</span>0.4<span class="k">\textwidth</span><span class="nb">}</span> <span class="c">% width of right subfigure</span></span>
<span class="code-line">        <span class="k">\includegraphics</span><span class="na">[width=\textwidth]</span><span class="nb">{</span>dncalt.png<span class="nb">}</span></span>
<span class="code-line">        <span class="k">\caption</span><span class="nb">{</span>DNC<span class="nb">}</span> <span class="c">% subcaption</span></span>
<span class="code-line">    <span class="k">\end</span><span class="nb">{</span>subfigure<span class="nb">}</span></span>
<span class="code-line">    <span class="k">\caption</span><span class="nb">{</span>Wordcloud of national conventions<span class="nb">}</span> <span class="c">% caption for whole figure</span></span>
<span class="code-line"><span class="k">\end</span><span class="nb">{</span>figure<span class="nb">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span></span>
</pre></div>


<p>For more information, <a href="http://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions#Subfloats">this wikibooks article</a> is useful.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/latex.html" rel="tag">LaTeX</a>,  <a href="http://blog.mollietaylor.com/tag/subcaption.html" rel="tag">subcaption</a>,  <a href="http://blog.mollietaylor.com/tag/subfigure.html" rel="tag">subfigure</a>,  <a href="http://blog.mollietaylor.com/tag/subfloat.html" rel="tag">subfloat</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/11/white-space-in-latex.html">Thu 08 November 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/latex.html" title="View all posts in LaTeX" rel="category tag">LaTeX</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/11/white-space-in-latex.html" title="Permalink to White Space in LaTeX" rel="bookmark">White Space in LaTeX</a>
		</h2>
		<div class="entry-content">
			<p>Extra spaces and line breaks in your source file are ignored. But there are several ways to force LaTeX to introduce white space to your documents.</p>
<p>The most simple commands to insert a specific amount of white space into your document are \hspace and \vspace.</p>
<p>To produce vertical space, use \vspace followed by the length of the space in brackets. This length can be represented in any <a href="http://blog.mollietaylor.com/2012/11/units-in-latex.html">units</a> recognized by LaTeX, e.g. \vspace{2 in}. The space between the number and the unit is optional, so \vspace{2in} will also work.</p>
<p>Similarly, you can use \hspace to insert horizontal space in your document, e.g., \hspace{2 in}.</p>
<p>If \hspace and \vspace are not working as you would like (often at the beginning or end of a line or page), you can instead use \hspace<em> and \vspace</em>, which will force space to appear.</p>
<p>If you want to put in as much blank space as possible (while still maintaining page margins, etc.), you can use \hfill and \vfill.</p>
<p>Multiples of \vfill or \hfill on a particular page or in an environment will fill an even amount of the space. (E.g., if there are 6 inches to be filled and 3 \vfill's, each will take 2 inches.)</p>
<h2>Horizontal</h2>
<p>As well as \hspace{} and \hfill, there are some horizontal-specific commands for adding white space.</p>
<p>\quad creates a space whose size is relative to the current font size and font face. \quad is equal to \hspace{<a href="http://blog.mollietaylor.com/2012/11/units-in-latex.html">1em</a>}. There are other commands that make spaces of sizes relative to \quad:</p>
<p><img alt="Horizontal space commands in LaTeX" src="http://blog.mollietaylor.com/images/latex-quad.png" /></p>
<h2>Vertical</h2>
<p>Probably the most common white space command is <code>\\</code>. It is used to start a new paragraph.</p>
<p>That's not the only way to tell LaTeX to break a line. Here are a number of ways to do that in different situations:</p>
<table>
<thead>
<tr>
<th>command</th>
<th>action</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>Start a new paragraph</td>
</tr>
<tr>
<td>\linebreak[number]</td>
<td>Start a new line, option to request, not require</td>
</tr>
<tr>
<td>\newline</td>
<td>Line break (only in paragraph mode)</td>
</tr>
</tbody>
</table>
<p>\newline or \linebreak can be beneficial because they work inside the tabular environment (when a <code>p</code> column definition is used), where \ will not work within a cell.</p>
<p>As well as using \vspace{} and \vfill, there are some specific commands for vertical white space:</p>
<ul>
<li>\smallskip</li>
<li>\medskip</li>
<li>\bigskip</li>
</ul>
<p>The sizes of \smallskip, \medskip, and \bigskip are determined by the documentclass.</p>
<p><img alt="Example of skip sizes" src="http://blog.mollietaylor.com/images/latex-small-skip.png" /></p>
<p>There are also several kinds of ways to break a page, which sometimes creates white space:</p>
<table>
<thead>
<tr>
<th>command</th>
<th>action</th>
</tr>
</thead>
<tbody>
<tr>
<td>\pagebreak</td>
<td>Starts a new page, using white space throughout to fill the full page before the break</td>
</tr>
<tr>
<td>\newpage</td>
<td>Starts a new page, leaving the rest of the page before the break blank</td>
</tr>
<tr>
<td>\clearpage</td>
<td>Like \newpage, but also prints all prior figures</td>
</tr>
<tr>
<td>\cleardoublepage</td>
<td>Like \clearpage, but next page with print will be odd</td>
</tr>
</tbody>
</table>
<p><a href="http://tex.stackexchange.com/a/740">Here's an example</a> of the difference between \pagebreak and \newpage.</p>
<h2>More information</h2>
<ul>
<li><a href="http://crab.rutgers.edu/~karel/latex/class5/class5.html">http://crab.rutgers.edu/~karel/latex/class5/class5.html</a></li>
<li><a href="http://help-csli.stanford.edu/tex/latex-pagebreaks.shtml">http://help-csli.stanford.edu/tex/latex-pagebreaks.shtml</a></li>
<li><a href="http://www.personal.ceu.hu/tex/breaking.htm">http://www.personal.ceu.hu/tex/breaking.htm</a></li>
<li><a href="http://www.mollietaylor.com/2012/11/units-in-latex.html">http://www.mollietaylor.com/2012/11/units-in-latex.html</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/latex.html" rel="tag">LaTeX</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/11/units-in-latex.html">Thu 01 November 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/latex.html" title="View all posts in LaTeX" rel="category tag">LaTeX</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/11/units-in-latex.html" title="Permalink to Units in LaTeX" rel="bookmark">Units in LaTeX</a>
		</h2>
		<div class="entry-content">
			<h2>Discrete units</h2>
<p>These are your basic units, like inches, centimeters, and points. Conversion of units from <a href="http://wiki.lyx.org/FAQ/Units">here</a> and <a href="http://www.maths.tcd.ie/~dwilkins/LaTeXPrimer/WhiteSpace.html">here</a>.</p>
<p>These tables show the relative sizes of each unit:</p>
<p><img alt="Relative sizes of units in LaTeX, inches" src="http://blog.mollietaylor.com/images/latex-units-in.png" /></p>
<p><img alt="Relative sizes of units in LaTeX, cm" src="http://blog.mollietaylor.com/images/latex-units-cm.png" /></p>
<h2>Units defined relative to font sizes</h2>
<p>There also are sizes that are relative to the current font face and font size. The size ex is usually the same as the height of an "x", and the size em is usually (but less often) equal to the width of an "M".</p>
<p>Since these are relative to your font, don't be surprised if your attempts look different than mine. Just like their absolute sizes, the size of ex relative to em is not consistent across fonts.</p>
<p><img alt="Examples of font-relative units" src="http://blog.mollietaylor.com/images/latex-units-em.png" /></p>
<p>Units defined relative to document
There also are units that have definitions relative to your document. These are determined based on your documentclass, and can also be explicitly changed.</p>
<p>A list of these and how to change them is available <a href="http://en.wikibooks.org/wiki/LaTeX/Useful_Measurement_Macros#Length_.27macros.27">here</a>. Some of the sizes are illustrated <a href="http://wiki.lyx.org/Tips/PaperLayout">here</a>.</p>
<table>
<thead>
<tr>
<th>command</th>
<th>size</th>
</tr>
</thead>
<tbody>
<tr>
<td>\paperwidth</td>
<td>Width of page</td>
</tr>
<tr>
<td>\paperheight</td>
<td>Height of page</td>
</tr>
<tr>
<td>\textwidth</td>
<td>Width of text</td>
</tr>
<tr>
<td>\textheight</td>
<td>Height of text</td>
</tr>
<tr>
<td>\linewidth</td>
<td>Width of a line, usually equal to \textwidth, but varies with environment</td>
</tr>
<tr>
<td>\columnwidth</td>
<td>Width of a column, usually same as \linewidth</td>
</tr>
<tr>
<td>\columnsep</td>
<td>Distance between columns</td>
</tr>
<tr>
<td>\tabcolsep</td>
<td>Separation between columns in a tabular environment</td>
</tr>
<tr>
<td>\parindent</td>
<td>Paragraph indentation</td>
</tr>
<tr>
<td>\parskip</td>
<td>The extra vertical space between paragraphs</td>
</tr>
<tr>
<td>\baselineskip</td>
<td>Vertical distance between lines in a paragraph</td>
</tr>
<tr>
<td>\baselinestretch</td>
<td>Multiplies \baselineskip</td>
</tr>
<tr>
<td>\unitlength</td>
<td>Units of length in a picture environment</td>
</tr>
<tr>
<td>\topmargin</td>
<td>Size of top margin</td>
</tr>
<tr>
<td>\evensidemargin</td>
<td>Margin of even pages</td>
</tr>
<tr>
<td>\oddsidemargin</td>
<td>Margin of odd pages</td>
</tr>
</tbody>
</table>
<p>Next, we'll learn how to use these units to add <a href="http://blog.mollietaylor.com/2012/11/white-space-in-latex.html">white space</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/latex.html" rel="tag">LaTeX</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/10/palettes-in-r.html">Thu 25 October 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/10/palettes-in-r.html" title="Permalink to Palettes in R" rel="bookmark">Palettes in R</a>
		</h2>
		<div class="entry-content">
			<p>In its simplest form, a palette in R is simply a vector of colors. This vector can be include the hex triplet or R color names.</p>
<p>The default palette can be seen through <code>palette()</code>: </p>
<div class="highlight"><pre><span class="code-line"><span class="o">&gt;</span> palette<span class="p">(</span><span class="s">&quot;default&quot;</span><span class="p">)</span> <span class="c1"># you&#39;ll only need this line if you&#39;ve previously changed the palette from the default</span></span>
<span class="code-line"><span class="o">&gt;</span> palette<span class="p">()</span></span>
<span class="code-line"><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;black&quot;</span>   <span class="s">&quot;red&quot;</span>     <span class="s">&quot;green3&quot;</span>  <span class="s">&quot;blue&quot;</span>    <span class="s">&quot;cyan&quot;</span>    <span class="s">&quot;magenta&quot;</span> <span class="s">&quot;yellow&quot;</span></span>
<span class="code-line"><span class="p">[</span><span class="m">8</span><span class="p">]</span> <span class="s">&quot;gray&quot;</span></span>
</pre></div>


<h2>Defining your own palettes</h2>
<p>If you want to make your own palette, you can just create your own vector of colors. It's fine for your vector to include a mixture of hex triplets and R color names. You can use the <code>palette</code> function above, but generally it's best to just store each palette as a standard vector. For one thing, you can use more than one palette that way. Here's how you can define your own palette:</p>
<div class="highlight"><pre><span class="code-line">colors <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;#A7A7A7&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;dodgerblue&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;firebrick&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;forestgreen&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;gold&quot;</span><span class="p">)</span></span>
</pre></div>


<p>Now let's try using our palette. For now let's just color each bar of a histogram. This is a silly example, but I think it's the easiest way to show how to get R to utilize your palette. In the following example, there are six bars, but only five colors. You can see that R will cycle through your palette to fill all the shapes.</p>
<div class="highlight"><pre><span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">)</span></span>
</pre></div>


<p><img alt="One color per bar" src="http://blog.mollietaylor.com/images/r-palette-color-by-bar.png" /></p>
<p>A more sensible use of color is to use a different color for each of a number of summary statistics:</p>
<div class="highlight"><pre><span class="code-line">colors <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;#A7A7A7&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;dodgerblue&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;firebrick&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;forestgreen&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="s">&quot;gold&quot;</span><span class="p">)</span></span>
<span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">1</span><span class="p">])</span></span>
<span class="code-line">abline<span class="p">(</span>v <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span>discoveries<span class="p">),</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">2</span><span class="p">],</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">5</span><span class="p">)</span></span>
<span class="code-line">abline<span class="p">(</span>v <span class="o">=</span> median<span class="p">(</span>discoveries<span class="p">),</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">3</span><span class="p">],</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">5</span><span class="p">)</span></span>
<span class="code-line">abline<span class="p">(</span>v <span class="o">=</span> <span class="kp">min</span><span class="p">(</span>discoveries<span class="p">),</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">4</span><span class="p">],</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">5</span><span class="p">)</span></span>
<span class="code-line">abline<span class="p">(</span>v <span class="o">=</span> <span class="kp">max</span><span class="p">(</span>discoveries<span class="p">),</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">5</span><span class="p">],</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">5</span><span class="p">)</span></span>
<span class="code-line">legend<span class="p">(</span>x <span class="o">=</span> <span class="s">&quot;topright&quot;</span><span class="p">,</span> <span class="c1"># location of legend within plot area</span></span>
<span class="code-line">    col <span class="o">=</span> colors<span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">5</span><span class="p">],</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">c</span><span class="p">(</span><span class="s">&quot;Mean&quot;</span><span class="p">,</span> <span class="s">&quot;Median&quot;</span><span class="p">,</span> <span class="s">&quot;Minimum&quot;</span><span class="p">,</span> <span class="s">&quot;Maximum&quot;</span><span class="p">),</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">5</span><span class="p">)</span></span>
</pre></div>


<p><img alt="Summary statistics" src="http://blog.mollietaylor.com/images/r-palette-stats.png" /></p>
<h2>Predefined palettes: default R palettes</h2>
<p>The package <strong>grDevices</strong> (you probably already have this loaded) contains a number of palettes.</p>
<div class="highlight"><pre><span class="code-line"><span class="o">?</span>rainbow</span>
<span class="code-line">rainbowcols <span class="o">&lt;-</span> rainbow<span class="p">(</span><span class="m">6</span><span class="p">)</span></span>
<span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> rainbowcols<span class="p">)</span></span>
</pre></div>


<p><img alt="Rainbow palette" src="http://blog.mollietaylor.com/images/r-palette-rainbow.png" /></p>
<p>For <code>rainbow</code>, you can adjust the saturation and value. For example:</p>
<div class="highlight"><pre><span class="code-line">rainbowcols <span class="o">&lt;-</span> rainbow<span class="p">(</span><span class="m">6</span><span class="p">,</span></span>
<span class="code-line">    s <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span></span>
<span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> rainbowcols<span class="p">)</span></span>
</pre></div>


<p><img alt="Rainbow palette desaturated" src="http://blog.mollietaylor.com/images/r-palette-rainbow-pale.png" /></p>
<div class="highlight"><pre><span class="code-line">heatcols <span class="o">&lt;-</span> heat.colors<span class="p">(</span><span class="m">6</span><span class="p">)</span></span>
<span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> heatcols<span class="p">)</span></span>
</pre></div>


<p><img alt="heat.colors palette" src="http://blog.mollietaylor.com/images/r-palette-heat.png" /></p>
<p>As well as <code>rainbow</code> and <code>heat.colors</code>, there are also <code>terrain.colors</code>, <code>topo.colors</code>, and <code>cm.colors</code>.</p>
<h2>Predefined palettes: RColorBrewer</h2>
<div class="highlight"><pre><span class="code-line"><span class="kn">library</span><span class="p">(</span>RColorBrewer<span class="p">)</span></span>
<span class="code-line">display.brewer.all<span class="p">()</span></span>
</pre></div>


<p>The above lines will show us all the <strong>RColorBrewer</strong> palettes (output shown below). The top section of palettes are sequential, the middle section are qualitative, and the lower section are diverging. <a href="http://blog.ggplot2.org/post/24607351280/choosing-colour-palettes-part-ii-educated-choices">Here is some information about how to choose a good palette</a>.</p>
<p><img alt="RColorBrewer palettes" src="http://blog.mollietaylor.com/images/r-display-brewer-all.png" /></p>
<p><strong>RColorBrewer</strong> works a little different than how we've defined palettes previously. We'll have to use <code>brewer.pal</code> to create a palette.</p>
<div class="highlight"><pre><span class="code-line"><span class="kn">library</span><span class="p">(</span>RColorBrewer<span class="p">)</span></span>
<span class="code-line">darkcols <span class="o">&lt;-</span> brewer.pal<span class="p">(</span><span class="m">8</span><span class="p">,</span> <span class="s">&quot;Dark2&quot;</span><span class="p">)</span></span>
<span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> darkcols<span class="p">)</span></span>
</pre></div>


<p><img alt="Dark2 color palette" src="http://blog.mollietaylor.com/images/r-palette-dark2.png" /></p>
<p>Even though we have to provide <code>brewer.pal</code> with the number of colors we want, we won't necessarily need to use all those colors later. We can still choose a color from the vector like we have previously. When we're setting a <code>col</code> setting to the full palette, we'll be more concerned with how many colors are included in the palette , but even there, we can choose a subset of the whole palette:</p>
<div class="highlight"><pre><span class="code-line">darkcols <span class="o">&lt;-</span> brewer.pal<span class="p">(</span><span class="m">8</span><span class="p">,</span> <span class="s">&quot;Dark2&quot;</span><span class="p">)</span></span>
<span class="code-line">hist<span class="p">(</span>discoveries<span class="p">,</span></span>
<span class="code-line">    col <span class="o">=</span> darkcols<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">])</span></span>
</pre></div>


<p><img alt="Dark 2 color palette, two colors" src="http://blog.mollietaylor.com/images/r-palette-dark2-2.png" /></p>
<p><a href="https://gist.github.com/3943476">Here</a>'s the code from this post.</p>
<p>Now that we're familiar with making our own palettes and using the built-in palettes in <strong>grDevices</strong> and <strong>RColorBrewer</strong>, I'm planning a future post about a more practical (but also more complicated) example of using palettes: making maps.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/brewerpal.html" rel="tag">brewer.pal</a>,  <a href="http://blog.mollietaylor.com/tag/palette.html" rel="tag">palette</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/rcolorbrewer.html" rel="tag">RColorBrewer</a>,  <a href="http://blog.mollietaylor.com/tag/visualization.html" rel="tag">visualization</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/10/random-name-generator-in-r.html">Thu 11 October 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/10/random-name-generator-in-r.html" title="Permalink to Random Name Generator in R" rel="bookmark">Random Name Generator in R</a>
		</h2>
		<div class="entry-content">
			<p>Just for the heck of it, let's recreate my <a href="http://realitytvgenerator.com/">Reality TV Show Name Generator</a> in R. This isn't really the sort of thing you'd normally do in R, but we can try out a bunch of different functions this way: random integers/sampling, concatenation, sorting, and determining the length of an object.</p>
<p>First, let's create a dictionary for R to randomly pull names from. In this case, we want a first word and a last word, that we'll later combine to create a name similar to so many current TV shows. (Note: In some cases, I've made the first "word" or last "word" multiple words for some variety.) Feel free to make your own lists.</p>
<div class="highlight"><pre><span class="code-line">first <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Fear&quot;</span><span class="p">,</span> <span class="s">&quot;Frontier&quot;</span><span class="p">,</span> <span class="s">&quot;Nanny&quot;</span><span class="p">,</span> <span class="s">&quot;Job&quot;</span><span class="p">,</span> <span class="s">&quot;Yard&quot;</span><span class="p">,</span> <span class="s">&quot;Airport&quot;</span><span class="p">,</span> <span class="s">&quot;Half Pint&quot;</span><span class="p">,</span> <span class="s">&quot;Commando&quot;</span><span class="p">,</span> <span class="s">&quot;Fast Food&quot;</span><span class="p">,</span> <span class="s">&quot;Basketball&quot;</span><span class="p">,</span> <span class="s">&quot;Bachelorette&quot;</span><span class="p">,</span> <span class="s">&quot;Diva&quot;</span><span class="p">,</span> <span class="s">&quot;Baggage&quot;</span><span class="p">,</span> <span class="s">&quot;College&quot;</span><span class="p">,</span> <span class="s">&quot;Octane&quot;</span><span class="p">,</span> <span class="s">&quot;Clean&quot;</span><span class="p">,</span> <span class="s">&quot;Sister&quot;</span><span class="p">,</span> <span class="s">&quot;Army&quot;</span><span class="p">,</span> <span class="s">&quot;Drama&quot;</span><span class="p">,</span> <span class="s">&quot;Backyard&quot;</span><span class="p">,</span> <span class="s">&quot;Pirate&quot;</span><span class="p">,</span> <span class="s">&quot;Shark&quot;</span><span class="p">,</span> <span class="s">&quot;Project&quot;</span><span class="p">,</span> <span class="s">&quot;Model&quot;</span><span class="p">,</span> <span class="s">&quot;Survival&quot;</span><span class="p">,</span> <span class="s">&quot;Justice&quot;</span><span class="p">,</span> <span class="s">&quot;Mom&quot;</span><span class="p">,</span> <span class="s">&quot;New York&quot;</span><span class="p">,</span> <span class="s">&quot;Jersey&quot;</span><span class="p">,</span> <span class="s">&quot;Ax&quot;</span><span class="p">,</span> <span class="s">&quot;Warrior&quot;</span><span class="p">,</span> <span class="s">&quot;Ancient&quot;</span><span class="p">,</span> <span class="s">&quot;Pawn&quot;</span><span class="p">,</span> <span class="s">&quot;Throttle&quot;</span><span class="p">,</span> <span class="s">&quot;The Great American&quot;</span><span class="p">,</span> <span class="s">&quot;Knight&quot;</span><span class="p">,</span> <span class="s">&quot;American&quot;</span><span class="p">,</span> <span class="s">&quot;Outback&quot;</span><span class="p">,</span> <span class="s">&quot;Celebrity&quot;</span><span class="p">,</span> <span class="s">&quot;Air&quot;</span><span class="p">,</span> <span class="s">&quot;Restaurant&quot;</span><span class="p">,</span> <span class="s">&quot;Bachelor&quot;</span><span class="p">,</span> <span class="s">&quot;Family&quot;</span><span class="p">,</span> <span class="s">&quot;Royal&quot;</span><span class="p">,</span> <span class="s">&quot;Surf&quot;</span><span class="p">,</span> <span class="s">&quot;Ulitmate&quot;</span><span class="p">,</span> <span class="s">&quot;Date&quot;</span><span class="p">,</span> <span class="s">&quot;Operation&quot;</span><span class="p">,</span> <span class="s">&quot;Fish Tank&quot;</span><span class="p">,</span> <span class="s">&quot;Logging&quot;</span><span class="p">,</span> <span class="s">&quot;Hollywood&quot;</span><span class="p">,</span> <span class="s">&quot;Amateur&quot;</span><span class="p">,</span> <span class="s">&quot;Craft&quot;</span><span class="p">,</span> <span class="s">&quot;Mystery&quot;</span><span class="p">,</span> <span class="s">&quot;Intervention&quot;</span><span class="p">,</span> <span class="s">&quot;Dog&quot;</span><span class="p">,</span> <span class="s">&quot;Human&quot;</span><span class="p">,</span> <span class="s">&quot;Rock&quot;</span><span class="p">,</span> <span class="s">&quot;Ice Road&quot;</span><span class="p">,</span> <span class="s">&quot;Shipping&quot;</span><span class="p">,</span> <span class="s">&quot;Modern&quot;</span><span class="p">,</span> <span class="s">&quot;Crocodile&quot;</span><span class="p">,</span> <span class="s">&quot;Farm&quot;</span><span class="p">,</span> <span class="s">&quot;Amish&quot;</span><span class="p">,</span> <span class="s">&quot;Single&quot;</span><span class="p">,</span> <span class="s">&quot;Tool&quot;</span><span class="p">,</span> <span class="s">&quot;Boot Camp&quot;</span><span class="p">,</span> <span class="s">&quot;Pioneer&quot;</span><span class="p">,</span> <span class="s">&quot;Kid&quot;</span><span class="p">,</span> <span class="s">&quot;Action&quot;</span><span class="p">,</span> <span class="s">&quot;Bounty&quot;</span><span class="p">,</span> <span class="s">&quot;Paradise&quot;</span><span class="p">,</span> <span class="s">&quot;Mega&quot;</span><span class="p">,</span> <span class="s">&quot;Love&quot;</span><span class="p">,</span> <span class="s">&quot;Style&quot;</span><span class="p">,</span> <span class="s">&quot;Teen&quot;</span><span class="p">,</span> <span class="s">&quot;Pop&quot;</span><span class="p">,</span> <span class="s">&quot;Wedding&quot;</span><span class="p">,</span> <span class="s">&quot;An American&quot;</span><span class="p">,</span> <span class="s">&quot;Treasure&quot;</span><span class="p">,</span> <span class="s">&quot;Myth&quot;</span><span class="p">,</span> <span class="s">&quot;Empire&quot;</span><span class="p">,</span> <span class="s">&quot;Motorway&quot;</span><span class="p">,</span> <span class="s">&quot;Room&quot;</span><span class="p">,</span> <span class="s">&quot;Casino&quot;</span><span class="p">,</span> <span class="s">&quot;Comedy&quot;</span><span class="p">,</span> <span class="s">&quot;Undercover&quot;</span><span class="p">,</span> <span class="s">&quot;Millionaire&quot;</span><span class="p">,</span> <span class="s">&quot;Chopper&quot;</span><span class="p">,</span> <span class="s">&quot;Space&quot;</span><span class="p">,</span> <span class="s">&quot;Cajun&quot;</span><span class="p">,</span> <span class="s">&quot;Hot Rod&quot;</span><span class="p">,</span> <span class="s">&quot;The&quot;</span><span class="p">,</span> <span class="s">&quot;Colonial&quot;</span><span class="p">,</span> <span class="s">&quot;Dance&quot;</span><span class="p">,</span> <span class="s">&quot;Flying&quot;</span><span class="p">,</span> <span class="s">&quot;Sorority&quot;</span><span class="p">,</span> <span class="s">&quot;Mountain&quot;</span><span class="p">,</span> <span class="s">&quot;Auction&quot;</span><span class="p">,</span> <span class="s">&quot;Extreme&quot;</span><span class="p">,</span> <span class="s">&quot;Whale&quot;</span><span class="p">,</span> <span class="s">&quot;Storage&quot;</span><span class="p">,</span> <span class="s">&quot;Cake&quot;</span><span class="p">,</span> <span class="s">&quot;Turf&quot;</span><span class="p">,</span> <span class="s">&quot;UFO&quot;</span><span class="p">,</span> <span class="s">&quot;The Real&quot;</span><span class="p">,</span> <span class="s">&quot;Wild&quot;</span><span class="p">,</span> <span class="s">&quot;Duck&quot;</span><span class="p">,</span> <span class="s">&quot;Queer&quot;</span><span class="p">,</span> <span class="s">&quot;Voice&quot;</span><span class="p">,</span> <span class="s">&quot;Fame&quot;</span><span class="p">,</span> <span class="s">&quot;Music&quot;</span><span class="p">,</span> <span class="s">&quot;Rock Star&quot;</span><span class="p">,</span> <span class="s">&quot;BBQ&quot;</span><span class="p">,</span> <span class="s">&quot;Spouse&quot;</span><span class="p">,</span> <span class="s">&quot;Wife&quot;</span><span class="p">,</span> <span class="s">&quot;Road&quot;</span><span class="p">,</span> <span class="s">&quot;Star&quot;</span><span class="p">,</span> <span class="s">&quot;Renovation&quot;</span><span class="p">,</span> <span class="s">&quot;Comic&quot;</span><span class="p">,</span> <span class="s">&quot;Chef&quot;</span><span class="p">,</span> <span class="s">&quot;Band&quot;</span><span class="p">,</span> <span class="s">&quot;House&quot;</span><span class="p">,</span> <span class="s">&quot;Sweet&quot;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">second <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Hunters&quot;</span><span class="p">,</span> <span class="s">&quot;Hoarders&quot;</span><span class="p">,</span> <span class="s">&quot;Contest&quot;</span><span class="p">,</span> <span class="s">&quot;Party&quot;</span><span class="p">,</span> <span class="s">&quot;Stars&quot;</span><span class="p">,</span> <span class="s">&quot;Truckers&quot;</span><span class="p">,</span> <span class="s">&quot;Camp&quot;</span><span class="p">,</span> <span class="s">&quot;Dance Crew&quot;</span><span class="p">,</span> <span class="s">&quot;Casting Call&quot;</span><span class="p">,</span> <span class="s">&quot;Inventor&quot;</span><span class="p">,</span> <span class="s">&quot;Search&quot;</span><span class="p">,</span> <span class="s">&quot;Pitmasters&quot;</span><span class="p">,</span> <span class="s">&quot;Blitz&quot;</span><span class="p">,</span> <span class="s">&quot;Marvels&quot;</span><span class="p">,</span> <span class="s">&quot;Wedding&quot;</span><span class="p">,</span> <span class="s">&quot;Crew&quot;</span><span class="p">,</span> <span class="s">&quot;Men&quot;</span><span class="p">,</span> <span class="s">&quot;Project&quot;</span><span class="p">,</span> <span class="s">&quot;Intervention&quot;</span><span class="p">,</span> <span class="s">&quot;Celebrities&quot;</span><span class="p">,</span> <span class="s">&quot;Treasure&quot;</span><span class="p">,</span> <span class="s">&quot;Master&quot;</span><span class="p">,</span> <span class="s">&quot;Days&quot;</span><span class="p">,</span> <span class="s">&quot;Wishes&quot;</span><span class="p">,</span> <span class="s">&quot;Sweets&quot;</span><span class="p">,</span> <span class="s">&quot;Haul&quot;</span><span class="p">,</span> <span class="s">&quot;Hour&quot;</span><span class="p">,</span> <span class="s">&quot;Mania&quot;</span><span class="p">,</span> <span class="s">&quot;Warrior&quot;</span><span class="p">,</span> <span class="s">&quot;Wrangler&quot;</span><span class="p">,</span> <span class="s">&quot;Restoration&quot;</span><span class="p">,</span> <span class="s">&quot;Factor&quot;</span><span class="p">,</span> <span class="s">&quot;Hot Rod&quot;</span><span class="p">,</span> <span class="s">&quot;of Love&quot;</span><span class="p">,</span> <span class="s">&quot;Inventors&quot;</span><span class="p">,</span> <span class="s">&quot;Kitchen&quot;</span><span class="p">,</span> <span class="s">&quot;Casino&quot;</span><span class="p">,</span> <span class="s">&quot;Queens&quot;</span><span class="p">,</span> <span class="s">&quot;Academy&quot;</span><span class="p">,</span> <span class="s">&quot;Superhero&quot;</span><span class="p">,</span> <span class="s">&quot;Battles&quot;</span><span class="p">,</span> <span class="s">&quot;Behavior&quot;</span><span class="p">,</span> <span class="s">&quot;Rules&quot;</span><span class="p">,</span> <span class="s">&quot;Justice&quot;</span><span class="p">,</span> <span class="s">&quot;Date&quot;</span><span class="p">,</span> <span class="s">&quot;Discoveries&quot;</span><span class="p">,</span> <span class="s">&quot;Club&quot;</span><span class="p">,</span> <span class="s">&quot;Brother&quot;</span><span class="p">,</span> <span class="s">&quot;Showdown&quot;</span><span class="p">,</span> <span class="s">&quot;Disasters&quot;</span><span class="p">,</span> <span class="s">&quot;Attack&quot;</span><span class="p">,</span> <span class="s">&quot;Contender&quot;</span><span class="p">,</span> <span class="s">&quot;People&quot;</span><span class="p">,</span> <span class="s">&quot;Raiders&quot;</span><span class="p">,</span> <span class="s">&quot;Story&quot;</span><span class="p">,</span> <span class="s">&quot;Patrol&quot;</span><span class="p">,</span> <span class="s">&quot;House&quot;</span><span class="p">,</span> <span class="s">&quot;Gypsies&quot;</span><span class="p">,</span> <span class="s">&quot;Challenge&quot;</span><span class="p">,</span> <span class="s">&quot;School&quot;</span><span class="p">,</span> <span class="s">&quot;Aliens&quot;</span><span class="p">,</span> <span class="s">&quot;Towers&quot;</span><span class="p">,</span> <span class="s">&quot;Brawlers&quot;</span><span class="p">,</span> <span class="s">&quot;Garage&quot;</span><span class="p">,</span> <span class="s">&quot;Whisperer&quot;</span><span class="p">,</span> <span class="s">&quot;Supermodel&quot;</span><span class="p">,</span> <span class="s">&quot;Boss&quot;</span><span class="p">,</span> <span class="s">&quot;Secrets&quot;</span><span class="p">,</span> <span class="s">&quot;Apprentice&quot;</span><span class="p">,</span> <span class="s">&quot;Icon&quot;</span><span class="p">,</span> <span class="s">&quot;House Party&quot;</span><span class="p">,</span> <span class="s">&quot;Pickers&quot;</span><span class="p">,</span> <span class="s">&quot;Crashers&quot;</span><span class="p">,</span> <span class="s">&quot;Nation&quot;</span><span class="p">,</span> <span class="s">&quot;Files&quot;</span><span class="p">,</span> <span class="s">&quot;Office&quot;</span><span class="p">,</span> <span class="s">&quot;Wars&quot;</span><span class="p">,</span> <span class="s">&quot;Rescue&quot;</span><span class="p">,</span> <span class="s">&quot;VIP&quot;</span><span class="p">,</span> <span class="s">&quot;Fighter&quot;</span><span class="p">,</span> <span class="s">&quot;Job&quot;</span><span class="p">,</span> <span class="s">&quot;Experiment&quot;</span><span class="p">,</span> <span class="s">&quot;Girls&quot;</span><span class="p">,</span> <span class="s">&quot;Quest&quot;</span><span class="p">,</span> <span class="s">&quot;Eats&quot;</span><span class="p">,</span> <span class="s">&quot;Moms&quot;</span><span class="p">,</span> <span class="s">&quot;Idol&quot;</span><span class="p">,</span> <span class="s">&quot;Consignment&quot;</span><span class="p">,</span> <span class="s">&quot;Life&quot;</span><span class="p">,</span> <span class="s">&quot;Dynasty&quot;</span><span class="p">,</span> <span class="s">&quot;Diners&quot;</span><span class="p">,</span> <span class="s">&quot;Chef&quot;</span><span class="p">,</span> <span class="s">&quot;Makeover&quot;</span><span class="p">,</span> <span class="s">&quot;Ninja&quot;</span><span class="p">,</span> <span class="s">&quot;Show&quot;</span><span class="p">,</span> <span class="s">&quot;Ladies&quot;</span><span class="p">,</span> <span class="s">&quot;Dancing&quot;</span><span class="p">,</span> <span class="s">&quot;Greenlight&quot;</span><span class="p">,</span> <span class="s">&quot;Mates&quot;</span><span class="p">,</span> <span class="s">&quot;Wives&quot;</span><span class="p">,</span> <span class="s">&quot;Jail&quot;</span><span class="p">,</span> <span class="s">&quot;Model&quot;</span><span class="p">,</span> <span class="s">&quot;Ship&quot;</span><span class="p">,</span> <span class="s">&quot;Family&quot;</span><span class="p">,</span> <span class="s">&quot;Videos&quot;</span><span class="p">,</span> <span class="s">&quot;Repo&quot;</span><span class="p">,</span> <span class="s">&quot;Rivals&quot;</span><span class="p">,</span> <span class="s">&quot;Room&quot;</span><span class="p">,</span> <span class="s">&quot;Dad&quot;</span><span class="p">,</span> <span class="s">&quot;Star&quot;</span><span class="p">,</span> <span class="s">&quot;Exes&quot;</span><span class="p">,</span> <span class="s">&quot;Island&quot;</span><span class="p">,</span> <span class="s">&quot;Next Door&quot;</span><span class="p">,</span> <span class="s">&quot;Missions&quot;</span><span class="p">,</span> <span class="s">&quot;Kings&quot;</span><span class="p">,</span> <span class="s">&quot;Loser&quot;</span><span class="p">,</span> <span class="s">&quot;Shore&quot;</span><span class="p">,</span> <span class="s">&quot;Assistant&quot;</span><span class="p">,</span> <span class="s">&quot;Comedians&quot;</span><span class="p">,</span> <span class="s">&quot;Rooms&quot;</span><span class="p">,</span> <span class="s">&quot;Boys&quot;</span><span class="p">)</span></span>
</pre></div>


<p>Whew, that was long. Instead, let's look at a random sample of those.</p>
<p>We can make random lists using <code>sample</code>. Sample wants you to provide it with a vector, the sample size you want, and whether or not it should reuse items from the vector. In this case, we don't want any duplicates, so we add <code>replace = FALSE</code>.</p>
<div class="highlight"><pre><span class="code-line">first <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span>first<span class="p">,</span></span>
<span class="code-line">    <span class="m">10</span><span class="p">,</span> replace <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">second <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span>second<span class="p">,</span></span>
<span class="code-line">    <span class="m">12</span><span class="p">,</span></span>
<span class="code-line">    replace <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span></span>
</pre></div>


<p>This gives us something more like</p>
<div class="highlight"><pre><span class="code-line"><span class="o">&gt;</span> first</span>
<span class="code-line"> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;Teen&quot;</span>       <span class="s">&quot;Fame&quot;</span>       <span class="s">&quot;Basketball&quot;</span> <span class="s">&quot;Sister&quot;</span>     <span class="s">&quot;Bachelor&quot;</span> </span>
<span class="code-line"> <span class="p">[</span><span class="m">6</span><span class="p">]</span> <span class="s">&quot;Half Pint&quot;</span>  <span class="s">&quot;Myth&quot;</span>       <span class="s">&quot;Paradise&quot;</span>   <span class="s">&quot;Frontier&quot;</span>   <span class="s">&quot;Fast Food&quot;</span></span>
<span class="code-line"><span class="o">&gt;</span> second</span>
<span class="code-line"> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;Comedians&quot;</span>    <span class="s">&quot;Boss&quot;</span>         <span class="s">&quot;Experiment&quot;</span>   <span class="s">&quot;Wives&quot;</span>        <span class="s">&quot;Wedding&quot;</span>    </span>
<span class="code-line"> <span class="p">[</span><span class="m">6</span><span class="p">]</span> <span class="s">&quot;Intervention&quot;</span> <span class="s">&quot;Days&quot;</span>         <span class="s">&quot;Raiders&quot;</span>      <span class="s">&quot;Attack&quot;</span>       <span class="s">&quot;Sweets&quot;</span>     </span>
<span class="code-line"><span class="p">[</span><span class="m">11</span><span class="p">]</span> <span class="s">&quot;Jail&quot;</span>         <span class="s">&quot;Whisperer&quot;</span></span>
</pre></div>


<p>It's random, so your list will probably be different.</p>
<p>If you want to <code>sort</code> them alphabetically, use</p>
<div class="highlight"><pre><span class="code-line">first <span class="o">&lt;-</span> <span class="kp">sort</span><span class="p">(</span>first<span class="p">)</span></span>
</pre></div>


<p>If we had wanted to randomly resort the whole "first" list, we could have entered the command</p>
<div class="highlight"><pre><span class="code-line">first <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span>first<span class="p">,</span> <span class="kp">length</span><span class="p">(</span>first<span class="p">),</span> replace <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span></span>
</pre></div>


<p>Using <code>length</code> makes it easy to resort the whole list. You don't have to look up how many items there are in <code>first</code>.</p>
<p>Let's use <code>length</code> again to choose a random number that we'll use to grab a number from the <code>first</code> list, and then again to choose a random number that we'll use to grab a number from the <code>second</code> list:</p>
<div class="highlight"><pre><span class="code-line">rand1 <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>first<span class="p">),</span> <span class="m">1</span><span class="p">)</span></span>
<span class="code-line">rand2 <span class="o">&lt;-</span> <span class="kp">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>second<span class="p">),</span> <span class="m">1</span><span class="p">)</span></span>
</pre></div>


<p>And finally, we want to pull an item from each list and con<code>cat</code>enate them. We could concatenate to a file, but here we'll just let it print to the console.</p>
<div class="highlight"><pre><span class="code-line"><span class="kp">cat</span><span class="p">(</span>first<span class="p">[</span>rand1<span class="p">],</span> second<span class="p">[</span>rand2<span class="p">],</span> <span class="s">&quot;\n&quot;</span><span class="p">)</span></span>
</pre></div>


<p>"<code>\n</code>" produces a line break so we can do <code>source(reality.R)</code> again and have another name pop up on the next line.</p>
<p>If you've made a dictionary of your own and want to check for duplicates, you can do the following:</p>
<div class="highlight"><pre><span class="code-line"><span class="kp">anyDuplicated</span><span class="p">(</span>first<span class="p">)</span> <span class="c1"># if not 0, there are that many duplicates</span></span>
<span class="code-line"><span class="kp">duplicated</span><span class="p">(</span>first<span class="p">)</span> <span class="c1"># this will show which items are duplicates</span></span>
</pre></div>


<p>Feel free to improve on my dictionary or generator. I'd love to see it.</p>
<p>Code available as a <a href="https://gist.github.com/3837835">gist</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/anyduplicated.html" rel="tag">anyDuplicated</a>,  <a href="http://blog.mollietaylor.com/tag/cat.html" rel="tag">cat</a>,  <a href="http://blog.mollietaylor.com/tag/duplicated.html" rel="tag">duplicated</a>,  <a href="http://blog.mollietaylor.com/tag/length.html" rel="tag">length</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/sample.html" rel="tag">sample</a>,  <a href="http://blog.mollietaylor.com/tag/sort.html" rel="tag">sort</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2012/10/adding-measures-of-central-tendency-to.html">Thu 04 October 2012</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2012/10/adding-measures-of-central-tendency-to.html" title="Permalink to Adding Measures of Central Tendency to Histograms in R" rel="bookmark">Adding Measures of Central Tendency to Histograms in R</a>
		</h2>
		<div class="entry-content">
			<p>Building on the <a href="http://blog.mollietaylor.com/2012/09/histogram-density-plot-combo-in-r.html">basic histogram with a density plot</a>, we can add measures of central tendency (in this case, mean and median) and a legend.</p>
<p>Like last time, we'll use the beaver data from the <strong>datasets</strong> package.</p>
<div class="highlight"><pre><span class="code-line">hist<span class="p">(</span>beaver1<span class="o">$</span>temp<span class="p">,</span> <span class="c1"># histogram</span></span>
<span class="code-line">    col <span class="o">=</span> <span class="s">&quot;peachpuff&quot;</span><span class="p">,</span> <span class="c1"># column color</span></span>
<span class="code-line">    border <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> </span>
<span class="code-line">    prob <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="c1"># show densities instead of frequencies</span></span>
<span class="code-line">    xlim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">36</span><span class="p">,</span><span class="m">38.5</span><span class="p">),</span></span>
<span class="code-line">    ylim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">3</span><span class="p">),</span></span>
<span class="code-line">    xlab <span class="o">=</span> <span class="s">&quot;Temperature&quot;</span><span class="p">,</span></span>
<span class="code-line">    main <span class="o">=</span> <span class="s">&quot;Beaver #1&quot;</span><span class="p">)</span></span>
<span class="code-line">lines<span class="p">(</span>density<span class="p">(</span>beaver1<span class="o">$</span>temp<span class="p">),</span> <span class="c1"># density plot</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="c1"># thickness of line</span></span>
<span class="code-line">    col <span class="o">=</span> <span class="s">&quot;chocolate3&quot;</span><span class="p">)</span></span>
</pre></div>


<p>Next we'll add a line for the mean: </p>
<div class="highlight"><pre><span class="code-line">abline<span class="p">(</span>v <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span>beaver1<span class="o">$</span>temp<span class="p">),</span></span>
<span class="code-line">    col <span class="o">=</span> <span class="s">&quot;royalblue&quot;</span><span class="p">,</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">2</span><span class="p">)</span></span>
</pre></div>


<p>And a line for the median: </p>
<div class="highlight"><pre><span class="code-line">abline<span class="p">(</span>v <span class="o">=</span> median<span class="p">(</span>beaver1<span class="o">$</span>temp<span class="p">),</span></span>
<span class="code-line">    col <span class="o">=</span> <span class="s">&quot;red&quot;</span><span class="p">,</span></span>
<span class="code-line">    lwd <span class="o">=</span> <span class="m">2</span><span class="p">)</span></span>
</pre></div>


<p>And then we can also add a legend, so it will be easy to tell which line is which. 
    :::r
    legend(x = "topright", # location of legend within plot area
        c("Density plot", "Mean", "Median"),
        col = c("chocolate3", "royalblue", "red"),
        lwd = c(2, 2, 2))</p>
<p>All of this together gives us the following graphic:</p>
<p><img alt="Beaver #1 central tendency" src="http://blog.mollietaylor.com/images/r-histogram-tendency-1.png" /></p>
<p>In this example, the mean and median are very close, as we can see by using <code>median()</code> and <code>mode()</code>.</p>
<div class="highlight"><pre><span class="code-line"><span class="o">&gt;</span> <span class="kp">mean</span><span class="p">(</span>beaver1<span class="o">$</span>temp<span class="p">)</span></span>
<span class="code-line"><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">36.86219</span></span>
<span class="code-line"><span class="o">&gt;</span> median<span class="p">(</span>beaver1<span class="o">$</span>temp<span class="p">)</span></span>
<span class="code-line"><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">36.87</span></span>
</pre></div>


<p>We can do like we did in the previous post and graph beaver1 and beaver2 together by adding a layout line and changing the limits of x and y. The full code for this is available in a <a href="https://gist.github.com/3768715#file_histdens2.r">gist</a>.</p>
<p>Here's the output from that code: </p>
<p><img alt="Beaver #1 and #2 central tendency" src="http://blog.mollietaylor.com/images/r-histogram-tendency-2.png" /></p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/abline.html" rel="tag">abline</a>,  <a href="http://blog.mollietaylor.com/tag/hist.html" rel="tag">hist</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/visualization.html" rel="tag">visualization</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="navigation">
		<div class="nav-previous">
				<a href="http://blog.mollietaylor.com/index4.html">
			<span class="meta-nav">&larr;</span> Newer posts</a>
		</div>		
		<div class="nav-next"><a href="http://blog.mollietaylor.com/index6.html" >Older posts <span class="meta-nav">&rarr;</span></a></div>
</div>
		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>
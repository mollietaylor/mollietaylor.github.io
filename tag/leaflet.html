<!DOCTYPE html>
<html lang="en">
<head>
		<title>Maps & Apps &mdash; Articles tagged Leaflet</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="http://blog.mollietaylor.com/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Maps & Apps â€” Flux Atom"
			href="http://blog.mollietaylor.com/" /> 
		<!--[if lte IE 8]><script src="http://blog.mollietaylor.com/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="http://blog.mollietaylor.com">Maps & Apps</a></h1>
		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/pages/about/index.html">About Mollie</a></li>
						<li class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/.html"></a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/latex.html">LaTeX</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/leaflet.html">Leaflet</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/objective-c.html">Objective-C</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/r.html">R</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/swift.html">Swift</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
<div class="page-title">
	<h2>Tagged with <span>Leaflet</span> &hellip;</h2>
</div>
		</div>
	
		<div id="contents">
<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/codeacross-asset-map.html">Mon 23 February 2015</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/codeacross-asset-map.html" title="Permalink to CodeAcross 2015: Creating an Asset Map of South Downtown Atlanta" rel="bookmark">CodeAcross 2015: Creating an Asset Map of South Downtown Atlanta</a>
		</h2>
		<div class="entry-content">
			<p>This weekend, I attended the <a href="http://www.codeforamerica.org/events/codeacross-2015/">CodeAcross</a> Atlanta <a href="https://nvite.com/codeacross/e7c8">hack weekend</a>, run by <a href="http://www.codeforatlanta.org/">Code for Atlanta</a> and hosted by the <a href="http://www.civicatlanta.org/">Center for Civic Innovation</a>. The topic of the hack weekend was the South Downtown neighborhood of Atlanta.</p>
<blockquote>
<p>South Downtown is a neighborhood that's been long ignored and overlooked. But it's brimming with potential. The buildings are there, the density is there, and the people are arriving. South Downtown is waking up.</p>
<p>Our hosts at the Center for Civic Innovation are kicking off a long-term effort to shape the future of South Downtown, and Code for Atlanta is partnering with them on this goal.</p>
<p>We're going to get out of the building and take some walking tours of the area to get a real feel for it, then we'll hear from those who live, work, and play in South Downtown. Based on what we learn, we'll then get to business and start hacking on projects. There will be maps to make and data to open.</p>
<p>This is a rare opportunity to help revitalize a neighborhood at the perfect moment. South Downtown will be a great neighborhood in the near future, and you'll help shape it at CodeAcross Atlanta. &mdash;<a href="http://www.meetup.com/codeforatlanta/events/220190345/">Code For Atlanta</a></p>
</blockquote>
<h2>Learning about South Downtown</h2>
<p>To kick off our hack weekend, Luigi gave an intro to civic hacking. Then Kyle Kessler gave a presentation on the South Downtown neighborhood, past and present. He covered the formation of Atlanta as "Terminus", the Civil War and burning of Atlanta, Atlanta's reemergence, civil rights, Underground Atlanta, the Olympics, and more. This presentation provided a helpful overview to thinking about how South Downtown can be revitalized.</p>
<p>One nice thing about the event was that it actually occurred in South Downtown, the area of interest. CodeAcross was hosted by the Center for Civic Innovation, at the M. Rich Building. As a result, we all got to take a nice walking tour of the neighborhood, to better frame the work we would do over the weekend. Personally, I'm pretty familiar with South Downtown. I'm currently attending <a href="http://theironyard.com/">The Iron Yard Academy</a>, which is located in the same building, and even before that course, I've biked through South Downtown quite a bit. That said, the walking tour was still beneficial to me. A few people in our group had detailed knowledge about the neighborhood, and it was helpful to know more details. The walking tour probably also helped make our map feel more real to the other contributors.</p>
<h2>Three Groups</h2>
<p>After lunch, we split up into groups. Three topic were presented, and people were allowed to choose which group they wanted to participate in.</p>
<blockquote>
<p>A branding campaign and storytelling website for South Downtown that begins to change the hearts and minds of Atlantans and their impressions of the neighborhood. Yes, we need folks who can code and launch a website. But just as importantly, we need designers to think about the real-world implications of what a strong brand means for a neighborhood. And we'll need gifted storytellers to convey the gravity of the history of the neighborhood and the role it played in the civil rights movement.</p>
<p>An interactive asset map that comprehensively displays existing properties in the neighborhood and opportunities for economic development. We need mapping experts to write the code to build the map, but we also need people with expertise in commercial real estate and city planning to help guide the design of the map. We need volunteers to go out into the neighborhood and figure out what exactly is there, because the data about the neighborhood is in many instances incorrect or out-of-date.</p>
<p>A participatory tool that amplifies the voices of those who live and work in South Downtown. This tool needs to work both on-line and on-the-ground. In many instances of economic development, the powerful, monied interests coming in simply don't listen to the people already in the area. We'll build a platform that collects input from the community and actually delivers that input to key stakeholders. To design it well, it'll require the "soft skills" of listening and empathy. To make it effective, it'll need guidance from those experienced in advocacy and lobbying the powerful. &mdash;<a href="http://www.civicatlanta.org/blog/2015/2/18/civic-hacking-is-for-everybody">Luigi Montanez</a></p>
</blockquote>
<p><a href="http://mollietaylor.com/">Unsurprisingly</a>, I chose the asset map group.</p>
<h2>The Asset Map Group</h2>
<p>The first step for the asset map group was to whiteboard out what layers we would like to see on the map. We also had to decide who the target audience was for the map. We came to the conclusion that it would be best to have different maps for different audiences (e.g. developers, advocates, visitors), but our focus for the weekend should be to find as many data layers as we could that would have relevance to any of the audiences. Then&mdash;after the weekend&mdash;we will split the map up into multiple maps. Here are just a few of the layers from our list of ideal data:</p>
<ul>
<li>Zoning</li>
<li>Population density and demographics</li>
<li>Parking</li>
<li>Transit</li>
<li>Infrastructure</li>
<li>Organizations and social events</li>
<li>Art</li>
<li>Filming locations</li>
</ul>
<p>Luigi was the leader of the asset map group. There were around 12 people who chose to work primarily on the asset map. We decided it would be most efficient with such a large group to split up into two sub-groups, one working on research and data, and the other sub-group working on creating the map. It was the first group's job to research each of the map layers we wanted, find if data was readily available, and if it was available, they would get it ready to send along to the map team. If it wasn't readily available, they would try to determine who might have the data and how it could be obtained. </p>
<p>I was the leader of the sub-group creating the map. We were tasked with making an interactive map showing all the layers of data found by the research and data cleaning team.</p>
<h2>Making the Map</h2>
<h4>Day 1</h4>
<p>On day one, the research and data cleaning sub-group created a google doc and drive folder and began collecting data to add to the map. Our coding sub-group got the preliminary map set up, and I threw in a couple data layers that I already had handy from previous map projects. The Leaflet newbies ran through a quick tutorial and we looked at alternative mapping platforms like Mapbox and Tilemill. Also on day 1, Bryan and Jimmy in the coding sub-group started working on a geocoder in Ruby, since we knew some of the data the researchers would provide us wouldn't have coordinates.</p>
<blockquote class="twitter-tweet" lang="en"><p>Had a lot of fun today hacking maps w/ <a href="https://twitter.com/codeforatlanta">@codeforatlanta</a> -- can&#39;t wait to do it all over again tomorrow. <a href="https://twitter.com/hashtag/CodeAcross?src=hash">#CodeAcross</a></p>&mdash; jimmylocoding (@jimmylocoding) <a href="https://twitter.com/jimmylocoding/status/569337434460135425">February 22, 2015</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>In our Leaflet map, we made use of a few libraries to help make our job of mapping easier and make our finished product look good quickly. Leaflet only supports GeoJSON by default, but by using <a href="https://github.com/mapbox/leaflet-omnivore">leaflet-omnivore</a> and <a href="https://github.com/calvinmetcalf/leaflet.shapefile">leaflet.shapefile</a>/<a href="https://github.com/calvinmetcalf/shapefile-js">shapefile-js</a>, we are able to import CSV, GPX, shapefiles, and more. This is helpful for the fast prototyping needed to get something substantial finished over a weekend like this. We also used  <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a> and <a href="https://github.com/lvoogdt/Leaflet.awesome-markers">Leaflet.awesome-markers</a> to create impressive looking map markers rapidly.</p>
<p>This is what our map looked like at the end of day 1:</p>
<p><img alt="Day 1 Progress" class="size-auto" src="http://blog.mollietaylor.com/images/codeacross-day1.png" /></p>
<h4>Day 2</h4>
<blockquote class="twitter-tweet" lang="en"><p>We are in day two of <a href="https://twitter.com/hashtag/CodeAcross?src=hash">#CodeAcross</a> on the topic of reimagining South Downtown Atlanta. Can&#39;t wait to share the fruits of everyone&#39;s labor!</p>&mdash; Civic Innovation (@civicatlanta) <a href="https://twitter.com/civicatlanta/status/569567696242794497">February 22, 2015</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>On day 2, the research and data sub-group continued finding data sources, and sent many of them along to our mapping group. They also helped us out with some GIS work by taking some of the shapefiles they had found and cropping them down to our area of interest. Additionally, they provided domain expertise, helping us interpret the data and deciding with us which data fields should be shown in map popups.</p>
<p>In the coding sub-group, Jimmy completed the geocoder and used it on a few of the data sources. We added those to the map, as well as adding several other point layers that already had coordinate data. During the night, I had implemented queries of the  <a href="https://developer.foursquare.com/">Foursquare API</a>, so we spent some time on day 2 thinking of what kinds of venues we wanted to pull from Foursquare. We added government buildings, entertainment, residential buildings, and food from the Foursquare API. I also learned how to do image overlays, so we threw in a couple of maps the data group had gathered. Finally, we added in some shapefiles the data group had found. All-in-all, we had 14 map data layers at the end of day 2. When we presented our work, it seemed people were impressed by how much stuff is in South Downtown and at how quickly we were able to assemble and map so much of it.</p>
<p><img alt="Day 2" class="size-auto" src="http://blog.mollietaylor.com/images/codeacross-day2.png" /></p>
<p>I was equally impressed with the branding/storytelling and participatory groups. The branding and storytelling group thought up neighborhood slogans and set up a preliminary website to host information about South Downtown. The participatory group came up with a basic survey that can be filled out via text or web and thought up ways to advertise the survey and engage individuals with interactive street displays. I was greatly impressed by how much we got done in a weekend project. </p>
<p>Even better yet, Code For Atlanta has structured a meetup so we can continue working on this project in the future. Usually when I do hackathons and other hack events, I'm disappointed by the project not continuing and often not getting to see my work get used. I'm really looking forward to meeting up once a month with the other hackers to continue our efforts.</p>
<p>And we certainly have plenty more to do. There's still much more data that the research team found that we haven't had a chance to implement in the map yet. There's also more data we haven't found yet, and data we haven't even begun to be sure how to measure (e.g. community). We also want to create separate maps for different audiences and integrate the map into the website.</p>
<p>I enjoyed helping to lead the asset mapping team, and I'm greatly looking forward to continuing to work on this project. I really care about South Downtown, and this weekend made me feel like I was helping the neighborhood, while also getting to do something I love with really great people. I highly recommend joining <a href="http://www.codeforatlanta.org/">Code for Atlanta</a> (or <a href="http://www.codeforamerica.org/brigade/">your local Code for America brigade</a>). As I think our mapping project showed, even if you aren't a coder, there are huge ways you can contribute. Thanks to my team and to the organizers of the event for making it the best hack weekend or hackathon I've attended!</p>
<p>The map will eventually be available at <a href="http://southdowntown.org/">southdowntown.org</a>, but for now you can find the code on <a href="https://github.com/codeforatlanta/asset-map">Github</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/competitions.html" rel="tag">competitions</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/10/book-review-leafletjs-essentials-by.html">Fri 10 October 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/10/book-review-leafletjs-essentials-by.html" title="Permalink to Book Review: Leaflet.js Essentials by Paul Crickard III" rel="bookmark">Book Review: Leaflet.js Essentials by Paul Crickard III</a>
		</h2>
		<div class="entry-content">
			<p>This is a review of <a href="https://www.packtpub.com/application-development/leafletjs-essentials">Leaflet.js Essentials</a> by Paul Crickard III.</p>
<h2>Contents</h2>
<ul>
<li>Chapter 1 introduces creating a basic map from scratch with leaflet, how to use map tiles, how to create popups, and how to enable geolocation. </li>
<li>Chapter 2 shows how to create GeoJSON data, how to style GeoJSON layers by type (LineString, Polygon, etc.), and how to filter to display only a subset of the data. </li>
<li>Chapter 3 introduces the leaflet.heat plugin for density heat maps and the heatmap.js library for intensity heat maps. It also teaches how to style and animate heat maps, how to create choropleths, and how to use buttons outside the map to change what's shown in the map. </li>
<li>Chapter 4 introduces how to create custom markers and marker shadows as well as several markers that are available online. We also learn how to cluster markers, animate markers, and create pie or bar chart markers. </li>
<li>Chapter 5 shows how to use many ESRI resources in Leaflet, including map tiles, shapefiles, and geocoding. </li>
<li>Chapter 6 introduces using Node.JS, Python, and C# with leaflet, including getting data via AJAX calls, using MongoDB to save created map points, and creating desktop applications with C#.</li>
</ul>
<h2>Review</h2>
<p>This is a very well laid-out, detailed guide to Leaflet. It is intended for complete newbies to Leaflet, but it provides some very advanced information as well. The book claims you should have some JavaScript knowledge before beginning, but I'm not entirely sure this is necessary, since Leaflet maps rely on only very minimal JavaScript.</p>
<p>I enjoyed the breadth of this book. I think the book does a great job of covering the information a beginner would need. It also provides information on a wide variety of topics like good tips for designing for mobile, a very comprehensive list of map tiles (many of these I did not know about), and information on several JavaScript libraries and Leaflet plug-ins that allow for additional functionality within the maps.</p>
<p>On the other hand, there is one major criticism I have with this book, especially for a beginner audience. I'm not that happy with the included code samples or how they are organized. This may just be personal preference, but I prefer books that have the "before this section" code and the "after this section" code so you can start with the before and then double-check with the after if you made an error or didn't understand something. I feel like the provided code samples made it difficult to follow along with programming while reading.</p>
<p>All in all, I wouldn't hesitate to recommend this book to someone beginning to learn Leaflet. For more advanced Leaflet users, there are some gems that may or may not make the book a worthwhile purchase. I will say that I use Leaflet almost every day, and I did learn several things from reading Leaflet.js Essentials.</p>
<p>4 out of 5 stars</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/book-review.html" rel="tag">book review</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/03/add-icons-to-layer-control-in-leaflet.html">Thu 27 March 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/03/add-icons-to-layer-control-in-leaflet.html" title="Permalink to Add Icons to Layer Control in Leaflet" rel="bookmark">Add Icons to Layer Control in Leaflet</a>
		</h2>
		<div class="entry-content">
			<p>When you have multiple layers, it can help to add a legend to the map. This tutorial shows how to add icons to the layer control in Leaflet. This tutorial shows only marker layers, but you could create icons for polygon layers and use those as well.</p>
<p><img alt="Legend with marker icons" src="http://blog.mollietaylor.com/images/add-icons-layer-control-legend.png" /></p>
<p>The following code sets up our map, layers, and the layer control. This is the standard way maps look in Leaflet, with no visual indication of which layer goes with which markers, without checking the boxes on and off.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">center</span><span class="o">:</span> <span class="p">[</span><span class="mf">33.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">84.4</span><span class="p">],</span></span>
<span class="code-line">    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span></span>
<span class="code-line">        <span class="nx">layers</span><span class="o">:</span> <span class="p">[</span><span class="nx">trainLayer</span><span class="p">,</span> <span class="nx">treeLayer</span><span class="p">]</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">overlayMaps</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="s2">&quot;Train&quot;</span><span class="o">:</span> <span class="nx">trainLayer</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;Tree&quot;</span><span class="o">:</span> <span class="nx">treeLayer</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">layers</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">overlayMaps</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">collapsed</span><span class="o">:</span> <span class="kc">false</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p><img alt="Default legend" src="http://blog.mollietaylor.com/images/add-icons-layer-control-no-legend.png" /></p>
<p>In order to add a legend to the layer control, you can simply change the overlayMaps code to add any HTML you'd like. In this case, we'll add the map icon pngs with a small height so they will look okay in the layer control:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">overlayMaps</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="s2">&quot;&lt;img src=&#39;http://mollietaylor.com/skills/js/leaflet/train.png&#39; height=24&gt;Train&quot;</span><span class="o">:</span> <span class="nx">trainLayer</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;&lt;img src=&#39;http://mollietaylor.com/skills/js/leaflet/arbol.png&#39; height=24&gt;Tree&quot;</span><span class="o">:</span> <span class="nx">treeLayer</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>


<p>It's really that simple! I searched the documentation and the web, and I couldn't figure out how to do this, so I figured I'd just try adding the HTML. Turns out it looks great!</p>
<p>Full code available on <a href="http://codepen.io/mollie/pen/wEvbd">CodePen</a>. Map icons by <a href="http://mapicons.nicolasmollet.com/">Nicolas Mollet and Axel Rodriguez</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/lcontrollayers.html" rel="tag">L.control.layers</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/overlaymaps.html" rel="tag">overlayMaps</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/03/changing-leaflet-slidemapper-to-side-by.html">Thu 13 March 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/03/changing-leaflet-slidemapper-to-side-by.html" title="Permalink to Changing Leaflet Slidemapper to a Side-by-Side View" rel="bookmark">Changing Leaflet Slidemapper to a Side-by-Side View</a>
		</h2>
		<div class="entry-content">
			<p>The default setup in <a href="https://github.com/cavis/slidemapper">slidemapper</a> is to have the slides either above or below the map. However, it is also possible to place the slides to one side of the map.</p>
<p><img alt="Slides beside map" class="size-auto" src="http://blog.mollietaylor.com/images/slidemapper-side.png" /></p>
<h2>CSS changes</h2>
<p>We need to make a couple of changes to how the smapp-show and smapp-map classes are displayed. You'll want to play around with these some, but this is what worked well for me:</p>
<div class="highlight"><pre><span class="code-line"><span class="nc">.smapp-show</span> <span class="p">{</span> </span>
<span class="code-line">    <span class="k">width</span><span class="o">:</span><span class="m">50%</span><span class="p">;</span> </span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"><span class="nc">.smapp-show</span> <span class="nc">.slide</span> <span class="p">{</span> </span>
<span class="code-line">    <span class="k">overflow-y</span><span class="o">:</span><span class="k">visible</span><span class="p">;</span> </span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"><span class="nc">.smapp-map</span> <span class="p">{</span> </span>
<span class="code-line">    <span class="k">margin</span><span class="o">:</span><span class="m">10px</span><span class="p">;</span> </span>
<span class="code-line">    <span class="k">width</span><span class="o">:</span><span class="m">48%</span><span class="p">;</span> </span>
<span class="code-line">    <span class="k">height</span><span class="o">:</span><span class="m">95%</span><span class="p">;</span> </span>
<span class="code-line">    <span class="k">position</span><span class="o">:</span><span class="k">absolute</span><span class="p">;</span> </span>
<span class="code-line">    <span class="k">top</span><span class="o">:</span><span class="m">0</span><span class="p">;</span> </span>
<span class="code-line">    <span class="k">right</span><span class="o">:</span><span class="m">0</span><span class="p">;</span> </span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>


<h2>Slidemapper changes</h2>
<p>On the slidemapper side of things, the only edit we need to make is changing the options of our slideshow. Specifically, we need to edit the slideHeight and mapHeight to something appropriate for having the slides beside the map. For example, I chose:</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">$mySlideMap</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#slideshow-container&#39;</span><span class="p">).</span><span class="nx">slideMapper</span><span class="p">({</span></span>
<span class="code-line">    <span class="nx">slideHeight</span><span class="o">:</span> <span class="mi">540</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">mapHeight</span><span class="o">:</span> <span class="s1">&#39;98%&#39;</span></span>
<span class="code-line"><span class="p">});</span></span>
</pre></div>


<p>And that's all the changes you need to make to have a side-by-side slideshow in slidemapper! The full code is available as <a href="https://gist.github.com/mollietaylor/9128521">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="https://github.com/cavis/slidemapper">https://github.com/cavis/slidemapper</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/slidemapper.html" rel="tag">slidemapper</a>,  <a href="http://blog.mollietaylor.com/tag/smapp-map.html" rel="tag">smapp-map</a>,  <a href="http://blog.mollietaylor.com/tag/smapp-show.html" rel="tag">smapp-show</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/03/link-to-another-slide-in-leaflet.html">Thu 06 March 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/03/link-to-another-slide-in-leaflet.html" title="Permalink to Link to Another Slide in Leaflet Slidemapper" rel="bookmark">Link to Another Slide in Leaflet Slidemapper</a>
		</h2>
		<div class="entry-content">
			<p>The <a href="https://github.com/cavis/slidemapper">slidemapper plugin for Leaflet</a> is very useful, but when building large slideshows, it can be annoying that there is no easy way to link to specific slides. For example, you might want to create a table of contents or link from the last slide back to the first. Fortunately, there's a way to move to specific slides, instead of just advancing or moving back by 1. We'll use jQuery to do this. We already have jQuery loaded for slidemapper.</p>
<h2>Specify Where Links Will Go</h2>
<p>After the <code>$mySlideMap</code> code in your html file, you can create a list of links that you will later add to the slides. Generally, this will be the last thing in the <code>&lt;script&gt;</code> tag at the end of the body.</p>
<p>For example, in the sample code from the <a href="https://github.com/cavis/slidemapper">slidemapper example</a>, the <code>&lt;script&gt;</code> initially contains:</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">$mySlideMap</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#slideshow-container&#39;</span><span class="p">)</span></span>
<span class="code-line"><span class="p">.</span><span class="nx">slideMapper</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">$mySlideMap</span><span class="p">.</span><span class="nx">slideMapper</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="nx">EXAMPLEDATA</span><span class="p">);</span></span>
</pre></div>


<p>At the end of the script, let's add a link to the first slide and a link to the last slide. The jQuery we use allows any code with a specific class to be transformed into a link. We can combine that with the slidemapper move method to create links to specific slides.</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.toc&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">$mySlideMap</span><span class="p">.</span><span class="nx">slideMapper</span><span class="p">(</span><span class="s1">&#39;move&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.end&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">$mySlideMap</span><span class="p">.</span><span class="nx">slideMapper</span><span class="p">(</span><span class="s1">&#39;move&#39;</span><span class="p">,</span> <span class="nx">EXAMPLEDATA</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span></span>
<span class="code-line"><span class="p">});</span></span>
</pre></div>


<h2>Add the Links</h2>
<p>Next, we need to actually include the links in the slides. The links references will go in the data file. In the example, the file is named data.js.</p>
<p>Here's a link to the last slide from the first slide:</p>
<div class="highlight"><pre><span class="code-line">// intro marker</span>
<span class="code-line">{</span>
<span class="code-line">    icon: &#39;other.png&#39;,</span>
<span class="code-line">    marker: [42.516846, -70.898499],</span>
<span class="code-line">    center: [40.423, -98.7372],</span>
<span class="code-line">    html: &#39;<span class="nt">&lt;table</span> <span class="na">style=</span><span class="s">&quot;margin:0 40px; padding:10px&quot;</span><span class="nt">&gt;&lt;tr&gt;</span>&#39; +</span>
<span class="code-line">            &#39;<span class="nt">&lt;td&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/300x180&amp;text=Map+Stuff&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>&#39; +</span>
<span class="code-line">            &#39;<span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">&quot;padding-left:10px&quot;</span><span class="nt">&gt;</span>&#39; +</span>
<span class="code-line">                &#39;<span class="nt">&lt;h1&gt;</span>SlideMapper FTW!<span class="nt">&lt;/h1&gt;</span>&#39; +</span>
<span class="code-line">                &#39;<span class="nt">&lt;p&gt;</span>This is a demo of the different sorts of slides you can setup using slidemapper.<span class="nt">&lt;/p&gt;</span>&#39; +</span>
<span class="code-line">                &#39;<span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">&quot;end&quot;</span><span class="nt">&gt;</span>Skip to the end.<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>&#39; +</span>
<span class="code-line">            &#39;<span class="nt">&lt;/td&gt;</span>&#39; +</span>
<span class="code-line">        &#39;<span class="nt">&lt;/tr&gt;&lt;/table&gt;</span>&#39;,</span>
<span class="code-line">    popup: &#39;So it begins!&#39;</span>
<span class="code-line">},</span>
</pre></div>


<p>And here's a link from the last slide to the first slide:</p>
<div class="highlight"><pre><span class="code-line">// empty slide</span>
<span class="code-line">{</span>
<span class="code-line">    html: &#39;<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">&quot;margin:0 40px; padding:20px 10px&quot;</span><span class="nt">&gt;</span>&#39; +</span>
<span class="code-line">            &#39;<span class="nt">&lt;div&gt;</span>&#39; +</span>
<span class="code-line">                &#39;<span class="nt">&lt;h2&gt;</span>The End<span class="nt">&lt;/h2&gt;</span>&#39; +</span>
<span class="code-line">                &#39;<span class="nt">&lt;p&gt;</span>Goodbye.<span class="nt">&lt;/p&gt;</span>&#39; +</span>
<span class="code-line">                &#39;<span class="nt">&lt;p&gt;&lt;a</span> <span class="na">class=</span><span class="s">&quot;toc&quot;</span><span class="nt">&gt;</span>Return to Table of Contents.<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>&#39; +</span>
<span class="code-line">            &#39;<span class="nt">&lt;/div&gt;</span>&#39; +</span>
<span class="code-line">        &#39;<span class="nt">&lt;/div&gt;</span>&#39;</span>
<span class="code-line">}</span>
</pre></div>


<h2>Prettifying</h2>
<p>Because of the unusual way these links are made using jQuery, we should probably add some css to make them look like links. I added the following css to the <code>&lt;head&gt;</code>, but you can add any css to the head or as a separate stylesheet.</p>
<div class="highlight"><pre><span class="code-line"><span class="o">&lt;</span><span class="nt">style</span> <span class="nt">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span></span>
<span class="code-line">    <span class="nt">a</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">color</span><span class="o">:</span> <span class="nb">orange</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">cursor</span><span class="o">:</span> <span class="k">pointer</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">text-decoration</span><span class="o">:</span> <span class="k">underline</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="o">&lt;/</span><span class="nt">style</span><span class="o">&gt;</span></span>
</pre></div>


<p><img alt="Here's an example of a link from one slide to another" class="size-auto" src="http://blog.mollietaylor.com/images/slidemapper-link.png" /></p>
<p>And now you have an easy way to navigate through a long slidemapper deck. You could even create a table of contents at the beginning and then link back to that from each slide.</p>
<p>The full code is available in <a href="https://gist.github.com/mollietaylor/9128328">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://stackoverflow.com/questions/950087/how-to-include-a-javascript-file-in-another-javascript-file">http://stackoverflow.com/questions/950087/how-to-include-a-javascript-file-in-another-javascript-file</a></li>
<li><a href="https://github.com/cavis/slidemapper#methods">https://github.com/cavis/slidemapper#methods</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/class.html" rel="tag">class</a>,  <a href="http://blog.mollietaylor.com/tag/click.html" rel="tag">click</a>,  <a href="http://blog.mollietaylor.com/tag/css.html" rel="tag">CSS</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/jquery.html" rel="tag">jQuery</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/move.html" rel="tag">move</a>,  <a href="http://blog.mollietaylor.com/tag/slidemapper.html" rel="tag">slidemapper</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/02/center-map-on-layer-change-in-leaflet.html">Thu 27 February 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/02/center-map-on-layer-change-in-leaflet.html" title="Permalink to Center Map on Layer Change in Leaflet" rel="bookmark">Center Map on Layer Change in Leaflet</a>
		</h2>
		<div class="entry-content">
			<p>In Leaflet, it can be helpful to change the bounds of the map when the user adds or changes the visible map layers.</p>
<h2>The Basics</h2>
<p>First, we'll start with the initial code including our map and polygon layers:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">51.508</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.11</span><span class="p">],</span> <span class="mi">500</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillColor</span><span class="o">:</span> <span class="s1">&#39;#f03&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">0.5</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.509</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.08</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.503</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.06</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.51</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.047</span><span class="p">]</span></span>
<span class="code-line"><span class="p">]);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">center</span><span class="o">:</span> <span class="p">[</span><span class="mf">51.505</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09</span><span class="p">],</span></span>
<span class="code-line">    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">13</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">overlayMaps</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="s2">&quot;Circle&quot;</span><span class="o">:</span> <span class="nx">circle</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;Polygon&quot;</span><span class="o">:</span> <span class="nx">polygon</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">attribution</span><span class="o">:</span> <span class="s1">&#39;&amp;copy; &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href=&quot;http://creativecommons.org/licenses/by-sa/2.0/&quot;&gt;CC-BY-SA&lt;/a&gt;&#39;</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">layers</span><span class="p">(</span><span class="nx">overlayMaps</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">collapsed</span><span class="o">:</span> <span class="kc">false</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>So far, most of this should be familiar from the <a href="http://leafletjs.com/examples/quick-start.html">Leaflet Quick Start Guide</a>.</p>
<p>Next, we want to add a listener function that will zoom and re-center upon a change in the circle or polygon layer.</p>
<p>The <code>.on</code> method of <code>map</code> allows you to watch for an event to occur and then execute a function when it does. In this case, we want to wait for the event <code>'baselayerchange'</code>. This way the map will automatically zoom and recenter when the user changes layers.</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;baselayerchange&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span></span>
<span class="code-line">    <span class="nx">map</span><span class="p">.</span><span class="nx">fitBounds</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">layer</span><span class="p">);</span></span>
<span class="code-line"><span class="p">});</span></span>
</pre></div>


<p><img alt="The map automatically zooms to the bounds of the shape when the layer is activated." class="size-auto" src="http://blog.mollietaylor.com/images/center-map-circle.png" /></p>
<h2>Options</h2>
<p>There are a few options for exactly how the map is zoomed and/or re-centered and for what type of layers are affected.</p>
<p>If you want to do this with overlay layers instead of base layers, you can substitute <code>'overlayadd'</code> for <code>'baselayerchange'</code>. Using overlay layers is more common for drawing shapes, but treating your layers as base layers makes it easy to display only one at a time.</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;overlayadd&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span></span>
<span class="code-line">    <span class="nx">map</span><span class="p">.</span><span class="nx">fitBounds</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">layer</span><span class="p">);</span></span>
<span class="code-line"><span class="p">});</span></span>
</pre></div>


<p><code>fitBounds</code> automatically zooms to the tightest zoom level where the whole shape is visible. If you don't want to use <code>fitBounds</code> (say you're centering on a new overlay layer and don't want to zoom all the way in), you can use <code>setView</code> or <code>panTo</code> instead. <code>panTo</code> animates as the view changes.</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;overlayadd&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span></span>
<span class="code-line">    <span class="nx">map</span><span class="p">.</span><span class="nx">panTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">layer</span><span class="p">);</span></span>
<span class="code-line"><span class="p">});</span></span>
</pre></div>


<p>And there you have a few different ways to center and/or zoom in when an overlay layer is added or when the baselayer is changed. I'd recommend you <a href="http://leafletjs.com/reference.html">check out the documentation for fitBounds, setView, and panTo</a> and play around with the options. The <a href="http://leafletjs.com/reference.html#control-layers">options for L.control.layers</a> are also helpful. For example, you can set <code>collapsed</code> to false to encourage users to change the layers.</p>
<p>The full code is available in <a href="https://gist.github.com/mollietaylor/9127811">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://leafletjs.com/reference.html#map-fitbounds">http://leafletjs.com/reference.html#map-fitbounds</a></li>
<li><a href="http://leafletjs.com/reference.html#control-layers-baselayerchange">http://leafletjs.com/reference.html#control-layers-baselayerchange</a></li>
<li><a href="http://leafletjs.com/reference.html#map-overlayadd">http://leafletjs.com/reference.html#map-overlayadd</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/baselayerchange.html" rel="tag">baselayerchange</a>,  <a href="http://blog.mollietaylor.com/tag/fitbounds.html" rel="tag">fitBounds</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/lcircle.html" rel="tag">L.circle</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/lpolygon.html" rel="tag">L.polygon</a>,  <a href="http://blog.mollietaylor.com/tag/panto.html" rel="tag">panTo</a>,  <a href="http://blog.mollietaylor.com/tag/setview.html" rel="tag">setView</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/02/lwimw3-trail-magic.html">Sun 02 February 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/02/lwimw3-trail-magic.html" title="Permalink to LWIMW3: Trail Magic" rel="bookmark">LWIMW3: Trail Magic</a>
		</h2>
		<div class="entry-content">
			<p>I just finished my submission for <a href="http://lookwhatimadeweekend.com/">Look What I Made Weekend 3</a>. Look What I Made Weekend (LWIMW) is a chance for people to create something over the course of 48 hours. The concept is based on <a href="http://www.ludumdare.com/">Ludum Dare</a> and other game jams, but for LWIMW you don't have to make a game. Instead, you are free to pursue any creative endeavor and show off your results at the end.</p>
<blockquote>
<p>NB: The content below is mostly a reprint of <a href="http://lookwhatimadeweekend.com/contest/3/submission/110/">my submission at LWIMW</a>.</p>
</blockquote>
<p>My project is an interactive website that will be part of the companion site to a book <a href="http://www.driven2divide.com/">my friend Scott Thigpen</a> is writing.
I didn't quite start from scratch on this project. This image shows the progress I had made before the weekend. You can also view it <a href="http://mollietaylor.com/trailmagic/preLWIMW-slide.html">on the web</a>.</p>
<p><img alt="pre-LWIMW" class="size-auto" src="http://blog.mollietaylor.com/images/pre-LWIMW.png" /></p>
<p>The other images show the current status after the weekend.</p>
<p>I made a lot of progress this weekend. I added GPS routes to the map, added a table of contents, added marker clustering, improved the graphic design (CSS and basemap), and added about 25% of the final content.</p>
<p><img alt="post-LWIMW" class="size-auto" src="http://blog.mollietaylor.com/images/post-LWIMW.png" /></p>
<p><img alt="post-LWIMW" class="size-auto" src="http://blog.mollietaylor.com/images/post-LWIMW-2.png" /></p>
<p>The only essential things I have left to do are adding the rest of the content, working with my friend on palette and graphics, and tweaking some small things.</p>
<p>You can view the current state of the <a href="http://mollietaylor.com/trailmagic/LWIMW.html">Trail Magic site here</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/competitions.html" rel="tag">competitions</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/jquery.html" rel="tag">jQuery</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/lwimw.html" rel="tag">LWIMW</a>,  <a href="http://blog.mollietaylor.com/tag/slidemapper.html" rel="tag">slidemapper</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/append-layer-to-overlaymaps-in-leaflet.html">Thu 30 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/append-layer-to-overlaymaps-in-leaflet.html" title="Permalink to Append Layer to overlayMaps in Leaflet" rel="bookmark">Append Layer to overlayMaps in Leaflet</a>
		</h2>
		<div class="entry-content">
			<p>What if we want to create a layer based on geolocation, but have the layer only be added to the map once geolocation occurs? I didn't find this example in any Leaflet tutorials, but it's pretty simple with some basic JavaScript</p>
<p>I'll start with some code that should look familiar from the <a href="http://leafletjs.com/examples/quick-start.html">Leaflet Quick Start Guide</a>, but with each item as its own layer.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">([</span><span class="mf">51.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09</span><span class="p">]);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">51.508</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.11</span><span class="p">],</span> <span class="mi">500</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillColor</span><span class="o">:</span> <span class="s1">&#39;#f03&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">0.5</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.509</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.08</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.503</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.06</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.51</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.047</span><span class="p">]</span></span>
<span class="code-line"><span class="p">]);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">center</span><span class="o">:</span> <span class="p">[</span><span class="mf">51.505</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09</span><span class="p">],</span></span>
<span class="code-line">    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">13</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">layers</span><span class="o">:</span> <span class="p">[</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">circle</span><span class="p">,</span> <span class="nx">polygon</span><span class="p">]</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">overlayMaps</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="s2">&quot;Marker&quot;</span><span class="o">:</span> <span class="nx">marker</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;Circle&quot;</span><span class="o">:</span> <span class="nx">circle</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;Polygon&quot;</span><span class="o">:</span> <span class="nx">polygon</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"><span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://tile.cloudmade.com/[API-KEY]/29889/256/{z}/{x}/{y}.png&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">attribution</span><span class="o">:</span> <span class="s1">&#39;Map data &amp;copy; &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href=&quot;http://creativecommons.org/licenses/by-sa/2.0/&quot;&gt;CC-BY-SA&lt;/a&gt;, Imagery Â© &lt;a href=&quot;http://cloudmade.com&quot;&gt;CloudMade&lt;/a&gt;&#39;</span><span class="p">,</span></span>
<span class="code-line">  <span class="nx">maxZoom</span><span class="o">:</span> <span class="mi">18</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>Next let's add the code that will display the three original layers if geolocation does not occur. In this case, we do not want the geolocated layer to show.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onLocationError</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">layers</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">overlayMaps</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;locationerror&#39;</span><span class="p">,</span> <span class="nx">onLocationError</span><span class="p">);</span></span>
</pre></div>


<p>You can see in the below screenshot that only the three layers are displayed.</p>
<p><img alt="With geolocation off" class="size-auto" src="http://blog.mollietaylor.com/images/append-layer-geolocation-off.png" /></p>
<p>Finally, we need to add code that will display all the layers (including the geolocation layer) if geolocation does occur. We simply need to add the "yourLocation" layer to overlayMaps and then display the layers as normal.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onLocationFound</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">yourLocation</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="nx">overlayMaps</span><span class="p">[</span><span class="s2">&quot;You&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">yourLocation</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">layers</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">overlayMaps</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;locationfound&#39;</span><span class="p">,</span> <span class="nx">onLocationFound</span><span class="p">);</span></span>
</pre></div>


<p>The screenshots below show what happens once geolocation has occurred.</p>
<p><img alt="With geolocation on" class="size-auto" src="http://blog.mollietaylor.com/images/append-layer-geolocation-on.png" /></p>
<p><img alt="Showing geolocation layer" class="size-auto" src="http://blog.mollietaylor.com/images/append-layer-show-geolocation.png" /></p>
<p>The full code is available in <a href="https://gist.github.com/mollietaylor/8700934">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://stackoverflow.com/questions/695050/how-do-i-add-a-property-to-a-javascript-object-using-a-variable-as-the-name">http://stackoverflow.com/questions/695050/how-do-i-add-a-property-to-a-javascript-object-using-a-variable-as-the-name</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/geolocation.html" rel="tag">geolocation</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/locationfound.html" rel="tag">locationfound</a>,  <a href="http://blog.mollietaylor.com/tag/overlaymaps.html" rel="tag">overlayMaps</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/add-and-remove-leaflet-circle-on-click.html">Thu 23 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/add-and-remove-leaflet-circle-on-click.html" title="Permalink to Add and Remove Leaflet Circle on Click" rel="bookmark">Add and Remove Leaflet Circle on Click</a>
		</h2>
		<div class="entry-content">
			<p>Similar to the popup example in the Leaflet tutorial, you might want to allow a user to add a circle centered on the point they click.</p>
<p>After defining your map, you first need to declare the variable you'll be using:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">clickCircle</span><span class="p">;</span></span>
</pre></div>


<p>While popups automatically disappear on the next click, circles do not. The following code removes the former circle from the leaflet map before drawing the new circle:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCircle</span> <span class="o">!=</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="nx">map</span><span class="p">.</span><span class="nx">removeLayer</span><span class="p">(</span><span class="nx">clickCircle</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">};</span></span>
</pre></div>


<p>Next, we want our function to draw the new circle (NB: "1609 * 3" is the radius of the circle. This makes the radius equal 3 miles):</p>
<div class="highlight"><pre><span class="code-line">    <span class="nx">clickCircle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">,</span> <span class="mi">1609</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#f07300&#39;</span><span class="p">,</span></span>
<span class="code-line">        <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span></span>
<span class="code-line">        <span class="nx">opacity</span><span class="o">:</span> <span class="mf">0.5</span></span>
<span class="code-line">  <span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>


<p>And finally, we need to add an event listener so that the function will be run when a user clicks on the map:</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">onMapClick</span><span class="p">);</span></span>
</pre></div>


<p>The full code is available in <a href="https://gist.github.com/mollietaylor/8564724">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://leafletjs.com/examples/quick-start.html">http://leafletjs.com/examples/quick-start.html</a></li>
<li><a href="http://stackoverflow.com/questions/15507737/adding-removing-l-control-from-leaflet-js-map">http://stackoverflow.com/questions/15507737/adding-removing-l-control-from-leaflet-js-map</a></li>
<li><a href="http://stackoverflow.com/questions/11272552/remove-polygon-from-the-map">http://stackoverflow.com/questions/11272552/remove-polygon-from-the-map</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/addto.html" rel="tag">addTo</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/lcircle.html" rel="tag">L.circle</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/on.html" rel="tag">on</a>,  <a href="http://blog.mollietaylor.com/tag/removelayer.html" rel="tag">removeLayer</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/embed-audio-in-leaflet-pop-up.html">Thu 16 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/embed-audio-in-leaflet-pop-up.html" title="Permalink to Embed Audio in Leaflet Pop-up" rel="bookmark">Embed Audio in Leaflet Pop-up</a>
		</h2>
		<div class="entry-content">
			<p>Here's how to embed audio in a leaflet map. This example will also show you how to embed most other HTML in a leaflet map, or how to embed audio in an HTML file.</p>
<p>In your map code:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onEachAudio</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">layer</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">layer</span><span class="p">.</span><span class="nx">bindPopup</span><span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">+</span> <span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">html</span><span class="p">);</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">GeoJSON</span><span class="p">.</span><span class="nx">AJAX</span><span class="p">(</span><span class="s2">&quot;audio.geojson&quot;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">onEachFeature</span><span class="o">:</span> <span class="nx">onEachAudio</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">pointToLayer</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">latlng</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">      <span class="k">return</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="nx">icon</span><span class="o">:</span> <span class="nx">audioIcon</span><span class="p">});</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>And here's the geojson format where you'll include your audio HTML and the coordinates where you want to view each file:</p>
<div class="highlight"><pre><span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nt">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span></span>
<span class="code-line">        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;a href=&#39;http://www.freesound.org/people/genghis%20attenborough/sounds/212798/&#39;&gt;Deep basement&lt;/a&gt;&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;p&gt;&lt;audio width=&#39;300&#39; height=&#39;32&#39; src=&#39;http://www.freesound.org/data/previews/212/212798_205108-lq.mp3&#39; controls=&#39;controls&#39;&gt;&lt;br /&gt;Your browser does not support the audio element.&lt;br /&gt;&lt;/audio&gt;&lt;/p&gt;&quot;</span></span>
<span class="code-line">        <span class="p">},</span></span>
<span class="code-line">        <span class="nt">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">-100</span><span class="p">,</span><span class="mi">34</span><span class="p">]</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">},{</span></span>
<span class="code-line">        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span></span>
<span class="code-line">        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;a href=&#39;http://www.freesound.org/people/John%20Sipos/sounds/125696/&#39;&gt;Atlantis docks then lands.&lt;/a&gt;&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;p&gt;&lt;audio width=&#39;300&#39; height=&#39;32&#39; src=&#39;http://www.freesound.org/data/previews/125/125696_593024-lq.mp3&#39; controls=&#39;controls&#39;&gt;&lt;br /&gt;Your browser does not support the audio element.&lt;br /&gt;&lt;/audio&gt;&lt;/p&gt;&quot;</span></span>
<span class="code-line">        <span class="p">},</span></span>
<span class="code-line">        <span class="nt">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">-84</span><span class="p">,</span><span class="mi">40</span><span class="p">]</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="p">]</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>


<p>Just substitute in the address of your audio files for the sample files above in the "html" property of the geojson features.</p>
<p><img alt="Example Leaflet map with audio" src="http://blog.mollietaylor.com/images/embed-audio-leaflet.png" /></p>
<p>The full code is available in <a href="https://gist.github.com/mollietaylor/8230639">a gist</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/audio.html" rel="tag">audio</a>,  <a href="http://blog.mollietaylor.com/tag/bindpopup.html" rel="tag">bindPopup</a>,  <a href="http://blog.mollietaylor.com/tag/geojson.html" rel="tag">geojson</a>,  <a href="http://blog.mollietaylor.com/tag/html.html" rel="tag">HTML</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="navigation">
		<div class="nav-next"><a href="http://blog.mollietaylor.com/tag/leaflet2.html" >Older posts <span class="meta-nav">&rarr;</span></a></div>
</div>
		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>
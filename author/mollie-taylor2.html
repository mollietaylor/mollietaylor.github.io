<!DOCTYPE html>
<html lang="en">
<head>
		<title>Maps & Apps &mdash; Articles by Mollie Taylor</title>
		<meta charset="utf-8" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="http://blog.mollietaylor.com/theme/css/style.css" />
		<link rel='stylesheet' id='oswald-css'  href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="Maps & Apps â€” Flux Atom"
			href="http://blog.mollietaylor.com/" /> 
		<!--[if lte IE 8]><script src="http://blog.mollietaylor.com/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="http://blog.mollietaylor.com">Maps & Apps</a></h1>
		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container">
				<ul id="menu-navigation" class="menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/pages/about/index.html">About Mollie</a></li>
						<li class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/.html"></a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/latex.html">LaTeX</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/leaflet.html">Leaflet</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/objective-c.html">Objective-C</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/r.html">R</a></li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://blog.mollietaylor.com/category/swift.html">Swift</a></li>

				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
	<h2>Posted by <span>Mollie Taylor</span> &hellip;</h2>
		</div>
	
		<div id="contents">
<div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/02/merge-by-city-and-state-in-r.html">Thu 20 February 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/02/merge-by-city-and-state-in-r.html" title="Permalink to Merge by City and State in R" rel="bookmark">Merge by City and State in R</a>
		</h2>
		<div class="entry-content">
			<p>Often, you'll need to merge two data frames based on multiple variables. For this example, we'll use the common case of needing to merge by city and state.</p>
<p>First, you need to read in both your data sets:</p>
<div class="highlight"><pre><span class="code-line"><span class="c1"># import city coordinate data:</span></span>
<span class="code-line">coords <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;cities-coords.csv&quot;</span><span class="p">,</span></span>
<span class="code-line">    header <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span></span>
<span class="code-line">    sep <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1"># import population data:</span></span>
<span class="code-line">data <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;cities-data.csv&quot;</span><span class="p">,</span></span>
<span class="code-line">    header <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span></span>
<span class="code-line">    sep <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">)</span></span>
</pre></div>


<p>Next comes the merge. You can use <code>by.x</code> and <code>by.y</code> to declare which variables the merge will be based on. If the variables have exactly the same name in both data sets, you can use by instead of <code>by.x</code> and <code>by.y</code>.</p>
<p><code>x</code> and <code>y</code> represent the two data sets you are merging, in that order.</p>
<p>You also want to state whether you want to include all data from either data set, using <code>all</code> or <code>all.x</code> and <code>all.y</code>. In this case, we want to make sure we hold onto all our city data, even data for the cities we do not have coordinates for.</p>
<div class="highlight"><pre><span class="code-line"><span class="c1"># merge data &amp; coords by city &amp; state:</span></span>
<span class="code-line">dataCoords <span class="o">&lt;-</span> <span class="kp">merge</span><span class="p">(</span>coords<span class="p">,</span> data<span class="p">,</span> </span>
<span class="code-line">    by.x <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;City&quot;</span><span class="p">,</span> <span class="s">&quot;State&quot;</span><span class="p">),</span></span>
<span class="code-line">    by.y <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;city&quot;</span><span class="p">,</span> <span class="s">&quot;state&quot;</span><span class="p">),</span></span>
<span class="code-line">    all.x <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span></span>
<span class="code-line">    all.y <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span></span>
</pre></div>


<p>Running that code shows what we would expect. Houston is included in the final data set even though there are no coordinates for it, while Dallas is not included since it has coordinates but no data:</p>
<div class="highlight"><pre><span class="code-line">            City State Latitude  Longitude year population</span>
<span class="code-line"><span class="m">1</span>        Chicago    IL <span class="m">41.85003</span>  <span class="m">-87.65005</span> <span class="m">2012</span>    <span class="m">2714856</span></span>
<span class="code-line"><span class="m">2</span>       Columbus    GA <span class="m">32.46098</span>  <span class="m">-84.98771</span> <span class="m">2012</span>     <span class="m">198413</span></span>
<span class="code-line"><span class="m">3</span>       Columbus    OH <span class="m">39.96118</span>  <span class="m">-82.99879</span> <span class="m">2012</span>     <span class="m">809798</span></span>
<span class="code-line"><span class="m">4</span>       Columbus    OH <span class="m">39.96118</span>  <span class="m">-82.99879</span> <span class="m">2010</span>     <span class="m">787033</span></span>
<span class="code-line"><span class="m">5</span>    Los Angeles    CA <span class="m">34.05223</span> <span class="m">-118.24368</span> <span class="m">2012</span>    <span class="m">3857799</span></span>
<span class="code-line"><span class="m">6</span>       New York    NY <span class="m">40.71427</span>  <span class="m">-74.00597</span> <span class="m">2012</span>    <span class="m">8336697</span></span>
<span class="code-line"><span class="m">7</span>       New York    NY <span class="m">40.71427</span>  <span class="m">-74.00597</span> <span class="m">2010</span>    <span class="m">8175133</span></span>
<span class="code-line"><span class="m">8</span>  San Francisco    CA <span class="m">37.77823</span> <span class="m">-122.44250</span> <span class="m">2012</span>     <span class="m">825863</span></span>
<span class="code-line"><span class="m">9</span>  San Francisco    CA <span class="m">37.77823</span> <span class="m">-122.44250</span> <span class="m">2010</span>     <span class="m">805235</span></span>
<span class="code-line"><span class="m">10</span>       Houston    TX       <span class="kc">NA</span>         <span class="kc">NA</span> <span class="m">2012</span>    <span class="m">2160821</span></span>
</pre></div>


<h2>Bonus</h2>
<p>If you'd like to get a list of which cases got merged in but lack coordinate data, there's a simple line of code to do that:</p>
<div class="highlight"><pre><span class="code-line"><span class="o">&gt;</span> dataCoords<span class="p">[</span><span class="o">!</span>complete.cases<span class="p">(</span>dataCoords<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">)]),]</span></span>
<span class="code-line">      City State Latitude Longitude year population</span>
<span class="code-line"><span class="m">10</span> Houston    TX       <span class="kc">NA</span>        <span class="kc">NA</span> <span class="m">2012</span>    <span class="m">2160821</span></span>
</pre></div>


<p>Also, you might want to tidy up the names of your variables, if they followed different conventions in their respective initial data sets:</p>
<div class="highlight"><pre><span class="code-line"><span class="o">&gt;</span> <span class="kp">names</span><span class="p">(</span>dataCoords<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;City&quot;</span><span class="p">,</span> <span class="s">&quot;State&quot;</span><span class="p">,</span> <span class="s">&quot;Latitude&quot;</span><span class="p">,</span> <span class="s">&quot;Longitude&quot;</span><span class="p">,</span> <span class="s">&quot;Year&quot;</span><span class="p">,</span> <span class="s">&quot;Population&quot;</span><span class="p">)</span></span>
<span class="code-line"><span class="o">&gt;</span> dataCoords</span>
<span class="code-line">            City State Latitude  Longitude Year Population</span>
<span class="code-line"><span class="m">1</span>        Chicago    IL <span class="m">41.85003</span>  <span class="m">-87.65005</span> <span class="m">2012</span>    <span class="m">2714856</span></span>
<span class="code-line"><span class="m">2</span>       Columbus    GA <span class="m">32.46098</span>  <span class="m">-84.98771</span> <span class="m">2012</span>     <span class="m">198413</span></span>
<span class="code-line"><span class="m">3</span>       Columbus    OH <span class="m">39.96118</span>  <span class="m">-82.99879</span> <span class="m">2012</span>     <span class="m">809798</span></span>
<span class="code-line"><span class="m">4</span>       Columbus    OH <span class="m">39.96118</span>  <span class="m">-82.99879</span> <span class="m">2010</span>     <span class="m">787033</span></span>
<span class="code-line"><span class="m">5</span>    Los Angeles    CA <span class="m">34.05223</span> <span class="m">-118.24368</span> <span class="m">2012</span>    <span class="m">3857799</span></span>
<span class="code-line"><span class="m">6</span>       New York    NY <span class="m">40.71427</span>  <span class="m">-74.00597</span> <span class="m">2012</span>    <span class="m">8336697</span></span>
<span class="code-line"><span class="m">7</span>       New York    NY <span class="m">40.71427</span>  <span class="m">-74.00597</span> <span class="m">2010</span>    <span class="m">8175133</span></span>
<span class="code-line"><span class="m">8</span>  San Francisco    CA <span class="m">37.77823</span> <span class="m">-122.44250</span> <span class="m">2012</span>     <span class="m">825863</span></span>
<span class="code-line"><span class="m">9</span>  San Francisco    CA <span class="m">37.77823</span> <span class="m">-122.44250</span> <span class="m">2010</span>     <span class="m">805235</span></span>
<span class="code-line"><span class="m">10</span>       Houston    TX       <span class="kc">NA</span>         <span class="kc">NA</span> <span class="m">2012</span>    <span class="m">2160821</span></span>
</pre></div>


<p>The full sample code is available as <a href="https://gist.github.com/mollietaylor/8565624">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="https://stat.ethz.ch/pipermail/r-help/2006-August/111120.html">https://stat.ethz.ch/pipermail/r-help/2006-August/111120.html</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/completecases.html" rel="tag">complete.cases</a>,  <a href="http://blog.mollietaylor.com/tag/merge.html" rel="tag">merge</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/02/ggplot-fit-line-and-lattice-fit-line-in.html">Thu 13 February 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/02/ggplot-fit-line-and-lattice-fit-line-in.html" title="Permalink to ggplot Fit Line and Lattice Fit Line in R" rel="bookmark">ggplot Fit Line and Lattice Fit Line in R</a>
		</h2>
		<div class="entry-content">
			<p>Let's add a fit line to a scatterplot!</p>
<h2>Fit Line in Base Graphics</h2>
<p>Here's how to do it in <strong>base</strong> graphics:</p>
<div class="highlight"><pre><span class="code-line">ols <span class="o">&lt;-</span> lm<span class="p">(</span>Temp <span class="o">~</span> Solar.R<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> airquality<span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>ols<span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">plot<span class="p">(</span>Temp <span class="o">~</span> Solar.R<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> airquality<span class="p">)</span></span>
<span class="code-line">abline<span class="p">(</span>ols</span>
</pre></div>


<p><img alt="Fit line in base graphics in R" src="http://blog.mollietaylor.com/images/ggplot-fit-line-base.png" /></p>
<h2>Fit Line in ggplot</h2>
<p>And here's how to do it in <strong>ggplot</strong>:</p>
<div class="highlight"><pre><span class="code-line"><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span></span>
<span class="code-line">ggplot<span class="p">(</span>data <span class="o">=</span> airquality<span class="p">,</span></span>
<span class="code-line">        aes<span class="p">(</span>Solar.R<span class="p">,</span> Temp<span class="p">))</span> <span class="o">+</span> </span>
<span class="code-line">    geom_point<span class="p">(</span>pch <span class="o">=</span> <span class="m">19</span><span class="p">)</span> <span class="o">+</span> </span>
<span class="code-line">    geom_abline<span class="p">(</span>intercept <span class="o">=</span> ols<span class="o">$</span>coefficients<span class="p">[</span><span class="m">1</span><span class="p">],</span></span>
<span class="code-line">        slope <span class="o">=</span> ols<span class="o">$</span>coefficients<span class="p">[</span><span class="m">2</span><span class="p">])</span></span>
</pre></div>


<p>You can access the info from your regression results through <code>ols$coefficients</code>.</p>
<p>Edit: Thanks to an anonymous commenter, I have learned that you can simplify this by using <code>geom_smooth</code>.  This way you don't have to specify the intercept and slope of the fit line.</p>
<div class="highlight"><pre><span class="code-line">ggplot<span class="p">(</span>data <span class="o">=</span> airquality<span class="p">,</span></span>
<span class="code-line">        aes<span class="p">(</span>Solar.R<span class="p">,</span> Temp<span class="p">))</span> <span class="o">+</span> </span>
<span class="code-line">    geom_point<span class="p">(</span>pch <span class="o">=</span> <span class="m">19</span><span class="p">)</span> <span class="o">+</span> </span>
<span class="code-line">    geom_smooth<span class="p">(</span>method <span class="o">=</span> lm<span class="p">,</span></span>
<span class="code-line">        se <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span></span>
</pre></div>


<p><img alt="Fit line in ggplot in R" src="http://blog.mollietaylor.com/images/ggplot-fit-line-ggplot.png" /></p>
<h2>Fit Line in Lattice</h2>
<p>In <strong>lattice</strong>, it's even easier. You don't even need to run a regression; you can just add to the <code>type</code> option.</p>
<div class="highlight"><pre><span class="code-line"><span class="kn">library</span><span class="p">(</span>lattice<span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">xyplot<span class="p">(</span>Temp <span class="o">~</span> Solar.R<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> airquality<span class="p">,</span></span>
<span class="code-line">    type <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;p&quot;</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">))</span></span>
</pre></div>


<p><img alt="Fit Line in Lattice in R" src="http://blog.mollietaylor.com/images/ggplot-fit-line-lattice.png" /></p>
<p>The code is available in <a href="https://gist.github.com/mollietaylor/8203926">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://stackoverflow.com/questions/12972039/plotting-xyplot-with-regression-line-on-lattice-graphics">http://stackoverflow.com/questions/12972039/plotting-xyplot-with-regression-line-on-lattice-graphics</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/geom_abline.html" rel="tag">geom_abline</a>,  <a href="http://blog.mollietaylor.com/tag/geom_smooth.html" rel="tag">geom_smooth</a>,  <a href="http://blog.mollietaylor.com/tag/ggplot2.html" rel="tag">ggplot2</a>,  <a href="http://blog.mollietaylor.com/tag/lattice.html" rel="tag">lattice</a>,  <a href="http://blog.mollietaylor.com/tag/lm.html" rel="tag">lm</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/type.html" rel="tag">type</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/02/compare-regression-results-to-specific.html">Thu 06 February 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/r.html" title="View all posts in R" rel="category tag">R</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/02/compare-regression-results-to-specific.html" title="Permalink to Compare Regression Results to a Specific Factor Level in R" rel="bookmark">Compare Regression Results to a Specific Factor Level in R</a>
		</h2>
		<div class="entry-content">
			<p>Including a series of dummy variables in a regression in R is very simple. For example,</p>
<div class="highlight"><pre><span class="code-line">ols <span class="o">&lt;-</span> lm<span class="p">(</span>weight <span class="o">~</span> Time <span class="o">+</span> Diet<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> ChickWeight<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>ols<span class="p">)</span></span>
</pre></div>


<p>The above regression automatically includes a dummy variable for all but the first level of the factor of the <code>Diet</code> variable.</p>
<div class="highlight"><pre><span class="code-line">Call<span class="o">:</span></span>
<span class="code-line">lm<span class="p">(</span>formula <span class="o">=</span> weight <span class="o">~</span> Time <span class="o">+</span> Diet<span class="p">,</span> data <span class="o">=</span> ChickWeight<span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">Residuals<span class="o">:</span></span>
<span class="code-line">     Min       <span class="m">1</span>Q   Median       <span class="m">3</span>Q      Max </span>
<span class="code-line"><span class="m">-136.851</span>  <span class="m">-17.151</span>   <span class="m">-2.595</span>   <span class="m">15.033</span>  <span class="m">141.816</span></span>
<span class="code-line"></span>
<span class="code-line">Coefficients<span class="o">:</span></span>
<span class="code-line">            Estimate Std. Error t value Pr<span class="p">(</span><span class="o">&gt;|</span><span class="kp">t</span><span class="o">|</span><span class="p">)</span>    </span>
<span class="code-line"><span class="p">(</span>Intercept<span class="p">)</span>  <span class="m">10.9244</span>     <span class="m">3.3607</span>   <span class="m">3.251</span>  <span class="m">0.00122</span> <span class="o">**</span> </span>
<span class="code-line">Time          <span class="m">8.7505</span>     <span class="m">0.2218</span>  <span class="m">39.451</span>  <span class="o">&lt;</span> <span class="m">2e-16</span> <span class="o">***</span></span>
<span class="code-line">Diet2        <span class="m">16.1661</span>     <span class="m">4.0858</span>   <span class="m">3.957</span> <span class="m">8.56e-05</span> <span class="o">***</span></span>
<span class="code-line">Diet3        <span class="m">36.4994</span>     <span class="m">4.0858</span>   <span class="m">8.933</span>  <span class="o">&lt;</span> <span class="m">2e-16</span> <span class="o">***</span></span>
<span class="code-line">Diet4        <span class="m">30.2335</span>     <span class="m">4.1075</span>   <span class="m">7.361</span> <span class="m">6.39e-13</span> <span class="o">***</span></span>
<span class="code-line"><span class="o">---</span></span>
<span class="code-line">Signif. codes<span class="o">:</span>  <span class="m">0</span> â€˜<span class="o">***</span>â€™ <span class="m">0.001</span> â€˜<span class="o">**</span>â€™ <span class="m">0.01</span> â€˜<span class="o">*</span>â€™ <span class="m">0.05</span> â€˜<span class="m">.</span>â€™ <span class="m">0.1</span> â€˜ â€™ <span class="m">1</span></span>
<span class="code-line"></span>
<span class="code-line">Residual standard error<span class="o">:</span> <span class="m">35.99</span> on <span class="m">573</span> degrees of freedom</span>
<span class="code-line">Multiple R<span class="o">-</span>squared<span class="o">:</span>  <span class="m">0.7453</span><span class="p">,</span>  Adjusted R<span class="o">-</span>squared<span class="o">:</span>  <span class="m">0.7435</span> </span>
<span class="code-line"><span class="bp">F</span><span class="o">-</span>statistic<span class="o">:</span> <span class="m">419.2</span> on <span class="m">4</span> and <span class="m">573</span> DF<span class="p">,</span>  p<span class="o">-</span>value<span class="o">:</span> <span class="o">&lt;</span> <span class="m">2.2e-16</span></span>
</pre></div>


<p>This is great, and it's often what you want. But in this case, it's comparing each of the diets to Diet1. In some cases, you might want to compare to a specific diet that isn't the first in the factor list.</p>
<p>How can we choose which dummy to compare to? Fortunately, it's simple to compare to a specific dummy in R. We can just <code>relevel</code> the factor so the dummy we want to compare to is first.</p>
<div class="highlight"><pre><span class="code-line">ChickWeight<span class="o">$</span>Diet <span class="o">&lt;-</span> relevel<span class="p">(</span>ChickWeight<span class="o">$</span>Diet<span class="p">,</span></span>
<span class="code-line">    ref <span class="o">=</span> <span class="m">4</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">olsRelevel <span class="o">&lt;-</span> lm<span class="p">(</span>weight <span class="o">~</span> Time <span class="o">+</span> Diet<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> ChickWeight<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>olsRelevel<span class="p">)</span></span>
</pre></div>


<p>The <code>ref</code> argument allows us to change the reference level of the factor variable. This means that when we perform regression analysis</p>
<p>You can use <code>table</code> or <code>str</code> to find the factor levels, if you don't already know them.</p>
<p>After releveling the factor variable, we can simply perform the same regression again, and this time it will compare the results to the new reference level:</p>
<div class="highlight"><pre><span class="code-line">olsRelevel <span class="o">&lt;-</span> lm<span class="p">(</span>weight <span class="o">~</span> Time <span class="o">+</span> Diet<span class="p">,</span></span>
<span class="code-line">    data <span class="o">=</span> ChickWeight<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>olsRelevel<span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="o">:::</span>r</span>
<span class="code-line">Call<span class="o">:</span></span>
<span class="code-line">lm<span class="p">(</span>formula <span class="o">=</span> weight <span class="o">~</span> Time <span class="o">+</span> Diet<span class="p">,</span> data <span class="o">=</span> ChickWeight<span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">Residuals<span class="o">:</span></span>
<span class="code-line">     Min       <span class="m">1</span>Q   Median       <span class="m">3</span>Q      Max </span>
<span class="code-line"><span class="m">-136.851</span>  <span class="m">-17.151</span>   <span class="m">-2.595</span>   <span class="m">15.033</span>  <span class="m">141.816</span></span>
<span class="code-line"></span>
<span class="code-line">Coefficients<span class="o">:</span></span>
<span class="code-line">            Estimate Std. Error t value Pr<span class="p">(</span><span class="o">&gt;|</span><span class="kp">t</span><span class="o">|</span><span class="p">)</span>    </span>
<span class="code-line"><span class="p">(</span>Intercept<span class="p">)</span>  <span class="m">41.1578</span>     <span class="m">4.0828</span>  <span class="m">10.081</span>  <span class="o">&lt;</span> <span class="m">2e-16</span> <span class="o">***</span></span>
<span class="code-line">Time          <span class="m">8.7505</span>     <span class="m">0.2218</span>  <span class="m">39.451</span>  <span class="o">&lt;</span> <span class="m">2e-16</span> <span class="o">***</span></span>
<span class="code-line">Diet1       <span class="m">-30.2335</span>     <span class="m">4.1075</span>  <span class="m">-7.361</span> <span class="m">6.39e-13</span> <span class="o">***</span></span>
<span class="code-line">Diet2       <span class="m">-14.0674</span>     <span class="m">4.6665</span>  <span class="m">-3.015</span>  <span class="m">0.00269</span> <span class="o">**</span> </span>
<span class="code-line">Diet3         <span class="m">6.2660</span>     <span class="m">4.6665</span>   <span class="m">1.343</span>  <span class="m">0.17989</span>    </span>
<span class="code-line"><span class="o">---</span></span>
<span class="code-line">Signif. codes<span class="o">:</span>  <span class="m">0</span> â€˜<span class="o">***</span>â€™ <span class="m">0.001</span> â€˜<span class="o">**</span>â€™ <span class="m">0.01</span> â€˜<span class="o">*</span>â€™ <span class="m">0.05</span> â€˜<span class="m">.</span>â€™ <span class="m">0.1</span> â€˜ â€™ <span class="m">1</span></span>
<span class="code-line"></span>
<span class="code-line">Residual standard error<span class="o">:</span> <span class="m">35.99</span> on <span class="m">573</span> degrees of freedom</span>
<span class="code-line">Multiple R<span class="o">-</span>squared<span class="o">:</span>  <span class="m">0.7453</span><span class="p">,</span>  Adjusted R<span class="o">-</span>squared<span class="o">:</span>  <span class="m">0.7435</span> </span>
<span class="code-line"><span class="bp">F</span><span class="o">-</span>statistic<span class="o">:</span> <span class="m">419.2</span> on <span class="m">4</span> and <span class="m">573</span> DF<span class="p">,</span>  p<span class="o">-</span>value<span class="o">:</span> <span class="o">&lt;</span> <span class="m">2.2e-16</span></span>
</pre></div>


<p>Now we can choose any factor level as the reference for the series of dummies in the regression analysis. The code is available in <a href="https://gist.github.com/mollietaylor/8214220">a gist</a>.</p>
<h2>Reference</h2>
<ul>
<li><a href="http://stackoverflow.com/a/3872213/2926101">http://stackoverflow.com/a/3872213/2926101</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/lm.html" rel="tag">lm</a>,  <a href="http://blog.mollietaylor.com/tag/r.html" rel="tag">R</a>,  <a href="http://blog.mollietaylor.com/tag/relevel.html" rel="tag">relevel</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/02/lwimw3-trail-magic.html">Sun 02 February 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/02/lwimw3-trail-magic.html" title="Permalink to LWIMW3: Trail Magic" rel="bookmark">LWIMW3: Trail Magic</a>
		</h2>
		<div class="entry-content">
			<p>I just finished my submission for <a href="http://lookwhatimadeweekend.com/">Look What I Made Weekend 3</a>. Look What I Made Weekend (LWIMW) is a chance for people to create something over the course of 48 hours. The concept is based on <a href="http://www.ludumdare.com/">Ludum Dare</a> and other game jams, but for LWIMW you don't have to make a game. Instead, you are free to pursue any creative endeavor and show off your results at the end.</p>
<blockquote>
<p>NB: The content below is mostly a reprint of <a href="http://lookwhatimadeweekend.com/contest/3/submission/110/">my submission at LWIMW</a>.</p>
</blockquote>
<p>My project is an interactive website that will be part of the companion site to a book <a href="http://www.driven2divide.com/">my friend Scott Thigpen</a> is writing.
I didn't quite start from scratch on this project. This image shows the progress I had made before the weekend. You can also view it <a href="http://mollietaylor.com/trailmagic/preLWIMW-slide.html">on the web</a>.</p>
<p><img alt="pre-LWIMW" class="size-auto" src="http://blog.mollietaylor.com/images/pre-LWIMW.png" /></p>
<p>The other images show the current status after the weekend.</p>
<p>I made a lot of progress this weekend. I added GPS routes to the map, added a table of contents, added marker clustering, improved the graphic design (CSS and basemap), and added about 25% of the final content.</p>
<p><img alt="post-LWIMW" class="size-auto" src="http://blog.mollietaylor.com/images/post-LWIMW.png" /></p>
<p><img alt="post-LWIMW" class="size-auto" src="http://blog.mollietaylor.com/images/post-LWIMW-2.png" /></p>
<p>The only essential things I have left to do are adding the rest of the content, working with my friend on palette and graphics, and tweaking some small things.</p>
<p>You can view the current state of the <a href="http://mollietaylor.com/trailmagic/LWIMW.html">Trail Magic site here</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/competitions.html" rel="tag">competitions</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/jquery.html" rel="tag">jQuery</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/lwimw.html" rel="tag">LWIMW</a>,  <a href="http://blog.mollietaylor.com/tag/slidemapper.html" rel="tag">slidemapper</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/append-layer-to-overlaymaps-in-leaflet.html">Thu 30 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/append-layer-to-overlaymaps-in-leaflet.html" title="Permalink to Append Layer to overlayMaps in Leaflet" rel="bookmark">Append Layer to overlayMaps in Leaflet</a>
		</h2>
		<div class="entry-content">
			<p>What if we want to create a layer based on geolocation, but have the layer only be added to the map once geolocation occurs? I didn't find this example in any Leaflet tutorials, but it's pretty simple with some basic JavaScript</p>
<p>I'll start with some code that should look familiar from the <a href="http://leafletjs.com/examples/quick-start.html">Leaflet Quick Start Guide</a>, but with each item as its own layer.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">([</span><span class="mf">51.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09</span><span class="p">]);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">51.508</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.11</span><span class="p">],</span> <span class="mi">500</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillColor</span><span class="o">:</span> <span class="s1">&#39;#f03&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">0.5</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.509</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.08</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.503</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.06</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.51</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.047</span><span class="p">]</span></span>
<span class="code-line"><span class="p">]);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">center</span><span class="o">:</span> <span class="p">[</span><span class="mf">51.505</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09</span><span class="p">],</span></span>
<span class="code-line">    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">13</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">layers</span><span class="o">:</span> <span class="p">[</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">circle</span><span class="p">,</span> <span class="nx">polygon</span><span class="p">]</span></span>
<span class="code-line"><span class="p">});</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">overlayMaps</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="s2">&quot;Marker&quot;</span><span class="o">:</span> <span class="nx">marker</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;Circle&quot;</span><span class="o">:</span> <span class="nx">circle</span><span class="p">,</span></span>
<span class="code-line">    <span class="s2">&quot;Polygon&quot;</span><span class="o">:</span> <span class="nx">polygon</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"><span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;http://tile.cloudmade.com/[API-KEY]/29889/256/{z}/{x}/{y}.png&#39;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">attribution</span><span class="o">:</span> <span class="s1">&#39;Map data &amp;copy; &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href=&quot;http://creativecommons.org/licenses/by-sa/2.0/&quot;&gt;CC-BY-SA&lt;/a&gt;, Imagery Â© &lt;a href=&quot;http://cloudmade.com&quot;&gt;CloudMade&lt;/a&gt;&#39;</span><span class="p">,</span></span>
<span class="code-line">  <span class="nx">maxZoom</span><span class="o">:</span> <span class="mi">18</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>Next let's add the code that will display the three original layers if geolocation does not occur. In this case, we do not want the geolocated layer to show.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onLocationError</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">alert</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">layers</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">overlayMaps</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;locationerror&#39;</span><span class="p">,</span> <span class="nx">onLocationError</span><span class="p">);</span></span>
</pre></div>


<p>You can see in the below screenshot that only the three layers are displayed.</p>
<p><img alt="With geolocation off" class="size-auto" src="http://blog.mollietaylor.com/images/append-layer-geolocation-off.png" /></p>
<p>Finally, we need to add code that will display all the layers (including the geolocation layer) if geolocation does occur. We simply need to add the "yourLocation" layer to overlayMaps and then display the layers as normal.</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onLocationFound</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">yourLocation</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="nx">overlayMaps</span><span class="p">[</span><span class="s2">&quot;You&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">yourLocation</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">layers</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">overlayMaps</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;locationfound&#39;</span><span class="p">,</span> <span class="nx">onLocationFound</span><span class="p">);</span></span>
</pre></div>


<p>The screenshots below show what happens once geolocation has occurred.</p>
<p><img alt="With geolocation on" class="size-auto" src="http://blog.mollietaylor.com/images/append-layer-geolocation-on.png" /></p>
<p><img alt="Showing geolocation layer" class="size-auto" src="http://blog.mollietaylor.com/images/append-layer-show-geolocation.png" /></p>
<p>The full code is available in <a href="https://gist.github.com/mollietaylor/8700934">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://stackoverflow.com/questions/695050/how-do-i-add-a-property-to-a-javascript-object-using-a-variable-as-the-name">http://stackoverflow.com/questions/695050/how-do-i-add-a-property-to-a-javascript-object-using-a-variable-as-the-name</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/geolocation.html" rel="tag">geolocation</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/locationfound.html" rel="tag">locationfound</a>,  <a href="http://blog.mollietaylor.com/tag/overlaymaps.html" rel="tag">overlayMaps</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/add-and-remove-leaflet-circle-on-click.html">Thu 23 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/add-and-remove-leaflet-circle-on-click.html" title="Permalink to Add and Remove Leaflet Circle on Click" rel="bookmark">Add and Remove Leaflet Circle on Click</a>
		</h2>
		<div class="entry-content">
			<p>Similar to the popup example in the Leaflet tutorial, you might want to allow a user to add a circle centered on the point they click.</p>
<p>After defining your map, you first need to declare the variable you'll be using:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">clickCircle</span><span class="p">;</span></span>
</pre></div>


<p>While popups automatically disappear on the next click, circles do not. The following code removes the former circle from the leaflet map before drawing the new circle:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onMapClick</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="nx">clickCircle</span> <span class="o">!=</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="nx">map</span><span class="p">.</span><span class="nx">removeLayer</span><span class="p">(</span><span class="nx">clickCircle</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">};</span></span>
</pre></div>


<p>Next, we want our function to draw the new circle (NB: "1609 * 3" is the radius of the circle. This makes the radius equal 3 miles):</p>
<div class="highlight"><pre><span class="code-line">    <span class="nx">clickCircle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">latlng</span><span class="p">,</span> <span class="mi">1609</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">        <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;#f07300&#39;</span><span class="p">,</span></span>
<span class="code-line">        <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span></span>
<span class="code-line">        <span class="nx">opacity</span><span class="o">:</span> <span class="mf">0.5</span></span>
<span class="code-line">  <span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>


<p>And finally, we need to add an event listener so that the function will be run when a user clicks on the map:</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">onMapClick</span><span class="p">);</span></span>
</pre></div>


<p>The full code is available in <a href="https://gist.github.com/mollietaylor/8564724">a gist</a>.</p>
<h2>References</h2>
<ul>
<li><a href="http://leafletjs.com/examples/quick-start.html">http://leafletjs.com/examples/quick-start.html</a></li>
<li><a href="http://stackoverflow.com/questions/15507737/adding-removing-l-control-from-leaflet-js-map">http://stackoverflow.com/questions/15507737/adding-removing-l-control-from-leaflet-js-map</a></li>
<li><a href="http://stackoverflow.com/questions/11272552/remove-polygon-from-the-map">http://stackoverflow.com/questions/11272552/remove-polygon-from-the-map</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/addto.html" rel="tag">addTo</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/lcircle.html" rel="tag">L.circle</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/on.html" rel="tag">on</a>,  <a href="http://blog.mollietaylor.com/tag/removelayer.html" rel="tag">removeLayer</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/embed-audio-in-leaflet-pop-up.html">Thu 16 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/embed-audio-in-leaflet-pop-up.html" title="Permalink to Embed Audio in Leaflet Pop-up" rel="bookmark">Embed Audio in Leaflet Pop-up</a>
		</h2>
		<div class="entry-content">
			<p>Here's how to embed audio in a leaflet map. This example will also show you how to embed most other HTML in a leaflet map, or how to embed audio in an HTML file.</p>
<p>In your map code:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">function</span> <span class="nx">onEachAudio</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">layer</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">layer</span><span class="p">.</span><span class="nx">bindPopup</span><span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">+</span> <span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">html</span><span class="p">);</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">GeoJSON</span><span class="p">.</span><span class="nx">AJAX</span><span class="p">(</span><span class="s2">&quot;audio.geojson&quot;</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">onEachFeature</span><span class="o">:</span> <span class="nx">onEachAudio</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">pointToLayer</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">latlng</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">      <span class="k">return</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="nx">icon</span><span class="o">:</span> <span class="nx">audioIcon</span><span class="p">});</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>And here's the geojson format where you'll include your audio HTML and the coordinates where you want to view each file:</p>
<div class="highlight"><pre><span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nt">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span></span>
<span class="code-line">        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;a href=&#39;http://www.freesound.org/people/genghis%20attenborough/sounds/212798/&#39;&gt;Deep basement&lt;/a&gt;&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;p&gt;&lt;audio width=&#39;300&#39; height=&#39;32&#39; src=&#39;http://www.freesound.org/data/previews/212/212798_205108-lq.mp3&#39; controls=&#39;controls&#39;&gt;&lt;br /&gt;Your browser does not support the audio element.&lt;br /&gt;&lt;/audio&gt;&lt;/p&gt;&quot;</span></span>
<span class="code-line">        <span class="p">},</span></span>
<span class="code-line">        <span class="nt">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">-100</span><span class="p">,</span><span class="mi">34</span><span class="p">]</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">},{</span></span>
<span class="code-line">        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span></span>
<span class="code-line">        <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;a href=&#39;http://www.freesound.org/people/John%20Sipos/sounds/125696/&#39;&gt;Atlantis docks then lands.&lt;/a&gt;&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;html&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;p&gt;&lt;audio width=&#39;300&#39; height=&#39;32&#39; src=&#39;http://www.freesound.org/data/previews/125/125696_593024-lq.mp3&#39; controls=&#39;controls&#39;&gt;&lt;br /&gt;Your browser does not support the audio element.&lt;br /&gt;&lt;/audio&gt;&lt;/p&gt;&quot;</span></span>
<span class="code-line">        <span class="p">},</span></span>
<span class="code-line">        <span class="nt">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span></span>
<span class="code-line">            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span></span>
<span class="code-line">            <span class="nt">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">-84</span><span class="p">,</span><span class="mi">40</span><span class="p">]</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="p">]</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>


<p>Just substitute in the address of your audio files for the sample files above in the "html" property of the geojson features.</p>
<p><img alt="Example Leaflet map with audio" src="http://blog.mollietaylor.com/images/embed-audio-leaflet.png" /></p>
<p>The full code is available in <a href="https://gist.github.com/mollietaylor/8230639">a gist</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/audio.html" rel="tag">audio</a>,  <a href="http://blog.mollietaylor.com/tag/bindpopup.html" rel="tag">bindPopup</a>,  <a href="http://blog.mollietaylor.com/tag/geojson.html" rel="tag">geojson</a>,  <a href="http://blog.mollietaylor.com/tag/html.html" rel="tag">HTML</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2014/01/import-json-data-from-external-file-in.html">Thu 09 January 2014</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2014/01/import-json-data-from-external-file-in.html" title="Permalink to Import JSON Data from an External File in Leaflet" rel="bookmark">Import JSON Data from an External File in Leaflet</a>
		</h2>
		<div class="entry-content">
			<p>If your JSON or GeoJSON data is long, you might want to store it in a separate file to make your code more readable or to reduce repetition and allow you to access the same data file from multiple pages. You can do that with jQuery.</p>
<p>First, load jQuery 1.10.2 or the newest version of jQuery (2.0 onward does not support Internet Explorer 6, 7, or 8) in the header:</p>
<div class="highlight"><pre><span class="code-line"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></span>
</pre></div>


<p>Next, in your leaflet script at the bottom of the body, you'll need to add all your other code and your basemap, like normal, for example:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">).</span><span class="nx">setView</span><span class="p">([</span><span class="mf">38.0740</span><span class="p">,</span> <span class="o">-</span><span class="mi">55</span><span class="p">],</span> <span class="mi">3</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">function</span> <span class="nx">onEachFeature</span><span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">layer</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">layer</span><span class="p">.</span><span class="nx">bindPopup</span><span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">City</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">State</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">Country</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>


<p>Then, you can just use jQuery to get the JSON or GeoJSON file. A simple version of this would be:</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">&quot;cities.geoJSON&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">cities</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">L</span><span class="p">.</span><span class="nx">geoJson</span><span class="p">(</span><span class="nx">cities</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">})</span></span>
</pre></div>


<p>But you can also add more options to your <code>L.geoJson</code> code, just like you would if using data stored in the HTML file. For example:</p>
<div class="highlight"><pre><span class="code-line"><span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">&quot;cities.geoJSON&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">cities</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">L</span><span class="p">.</span><span class="nx">geoJson</span><span class="p">(</span><span class="nx">cities</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">        <span class="nx">onEachFeature</span><span class="o">:</span> <span class="nx">onEachFeature</span><span class="p">,</span></span>
<span class="code-line">        <span class="nx">pointToLayer</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">feature</span><span class="p">,</span> <span class="nx">latlng</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">            <span class="k">switch</span> <span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">Remember</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">                <span class="k">case</span> <span class="s1">&#39;1&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="nx">icon</span><span class="o">:</span> <span class="nx">visitedIcon</span><span class="p">});</span></span>
<span class="code-line">                <span class="k">case</span> <span class="s1">&#39;?&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="nx">icon</span><span class="o">:</span> <span class="nx">uncertainIcon</span><span class="p">});</span></span>
<span class="code-line">                <span class="k">case</span> <span class="s1">&#39;0&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">(</span><span class="nx">latlng</span><span class="p">,</span> <span class="p">{</span><span class="nx">icon</span><span class="o">:</span> <span class="nx">uncertainIcon</span><span class="p">});</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"><span class="p">})</span></span>
</pre></div>


<p>So just a couple lines of jQuery allow you to store your JSON or GeoJSON data in a separate file.</p>
<p>The <a href="https://gist.github.com/mollietaylor/7582459">example code is available in a gist</a> and the <a href="http://gtg339g.com/skills/js/leaflet/cities/">example is viewable here</a>.</p>
<h2>Further Reading</h2>
<ul>
<li><a href="http://lyzidiamond.com/posts/external-geojson-and-leaflet-the-other-way/">http://lyzidiamond.com/posts/external-geojson-and-leaflet-the-other-way/</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/geojson.html" rel="tag">geojson</a>,  <a href="http://blog.mollietaylor.com/tag/getjson.html" rel="tag">getJSON</a>,  <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/jquery.html" rel="tag">jQuery</a>,  <a href="http://blog.mollietaylor.com/tag/json.html" rel="tag">JSON</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/lgeojson.html" rel="tag">L.geoJson</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2013/12/make-all-polygons-same-shade-in-leaflet.html">Thu 19 December 2013</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/leaflet.html" title="View all posts in Leaflet" rel="category tag">Leaflet</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2013/12/make-all-polygons-same-shade-in-leaflet.html" title="Permalink to Make All Polygons the Same Shade in Leaflet" rel="bookmark">Make All Polygons the Same Shade in Leaflet</a>
		</h2>
		<div class="entry-content">
			<p>The <a href="http://leafletjs.com/examples/quick-start.html">Quick Start tutorial</a> shows us how to change the color of a polygon:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">51.508</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.11</span><span class="p">],</span> <span class="mi">500</span><span class="p">,</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillColor</span><span class="o">:</span> <span class="s1">&#39;#f03&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">0.5</span></span>
<span class="code-line"><span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>But what if we want to change the color and style of all (or a set of the) polygons?</p>
<p>First we can define the style:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">defaultStyle</span> <span class="o">=</span> <span class="p">{</span></span>
<span class="code-line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span></span>
<span class="code-line">    <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">0.2</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>


<p>And then we can just add that style to our polygons:</p>
<div class="highlight"><pre><span class="code-line"><span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">polygon</span><span class="p">([</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.509</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.08</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.503</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.06</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mf">51.51</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.047</span><span class="p">]</span></span>
<span class="code-line"><span class="p">]).</span><span class="nx">setStyle</span><span class="p">(</span><span class="nx">defaultStyle</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">circle</span><span class="p">([</span><span class="mf">51.508</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.11</span><span class="p">],</span> <span class="mi">500</span><span class="p">).</span><span class="nx">setStyle</span><span class="p">(</span><span class="nx">defaultStyle</span><span class="p">).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span></span>
</pre></div>


<p>The full code (based on <a href="http://leafletjs.com/examples/quick-start.html">the Quick Start tutorial</a>) is available in a <a href="https://gist.github.com/mollietaylor/7110969">gist</a>.</p>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/javascript.html" rel="tag">Javascript</a>,  <a href="http://blog.mollietaylor.com/tag/leaflet.html" rel="tag">Leaflet</a>,  <a href="http://blog.mollietaylor.com/tag/lpolygon.html" rel="tag">L.polygon</a>,  <a href="http://blog.mollietaylor.com/tag/setstyle.html" rel="tag">setStyle</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="post type-post status-publish format-standard hentry category-general" id="post">
	<div class="entry-meta">
		<div class="date"><a href="http://blog.mollietaylor.com/2013/12/add-spaces-between-citations-in-latex.html">Thu 12 December 2013</a></div>
		<span class="byline">By <a href="http://blog.mollietaylor.com/author/mollie-taylor.html">Mollie Taylor</a></span>
			<span class="cat-links"><a href="http://blog.mollietaylor.com/category/latex.html" title="View all posts in LaTeX" rel="category tag">LaTeX</a></span>
	</div> <!-- /#entry-meta -->
	<div class="main">
		<h2 class="entry-title">
			<a href="http://blog.mollietaylor.com/2013/12/add-spaces-between-citations-in-latex.html" title="Permalink to Add Spaces Between Citations in LaTeX" rel="bookmark">Add Spaces Between Citations in LaTeX</a>
		</h2>
		<div class="entry-content">
			<p>I had an issue where LaTeX wasn't adding spaces between references when I had multiple references in the same place.</p>
<p>So this:</p>
<div class="highlight"><pre><span class="code-line">of their own <span class="k">\cite</span><span class="nb">{</span>moretti:2012,saxenian:1996,casper:2007<span class="nb">}</span>.</span>
</pre></div>


<p>was compiling as this:</p>
<div class="highlight"><pre><span class="code-line">of their own [Moretti, 2012,Saxenian, 1996,Casper, 2007].</span>
</pre></div>


<p>To fix the problem, I simply added the space option for the <strong>cite</strong> package.</p>
<div class="highlight"><pre><span class="code-line"><span class="k">\usepackage</span><span class="na">[space]</span><span class="nb">{</span>cite<span class="nb">}</span></span>
</pre></div>


<p>And now it looks as it should:</p>
<div class="highlight"><pre><span class="code-line">of their own [Moretti, 2012, Saxenian, 1996, Casper, 2007].</span>
</pre></div>


<p>If you have spaces and don't want them, you can instead use the <code>nospace</code> option to remove the space between each citation.</p>
<h2>References</h2>
<ul>
<li><a href="http://texdoc.net/texmf-dist/doc/latex/cite/cite.pdf">http://texdoc.net/texmf-dist/doc/latex/cite/cite.pdf</a></li>
</ul>
		</div> <!--/#entry-content-->
    		<span class="tag-links"><strong>Tagged</strong>
 <a href="http://blog.mollietaylor.com/tag/cite.html" rel="tag">cite</a>,  <a href="http://blog.mollietaylor.com/tag/latex.html" rel="tag">LaTeX</a>    		</span>
	</div> <!--/#main-->
</div>  <!--/#post--><div class="navigation">
		<div class="nav-previous">
				<a href="http://blog.mollietaylor.com/author/mollie-taylor.html">
			<span class="meta-nav">&larr;</span> Newer posts</a>
		</div>		
		<div class="nav-next"><a href="http://blog.mollietaylor.com/author/mollie-taylor3.html" >Older posts <span class="meta-nav">&rarr;</span></a></div>
</div>
		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>